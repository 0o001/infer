<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Infer Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Infer Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Infer" href="/opensearch.xml"><title data-react-helmet="true">List of all issue types | Infer</title><meta data-react-helmet="true" property="og:url" content="https://fbinfer.com/docs/next/all-issue-types"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="List of all issue types | Infer"><meta data-react-helmet="true" name="description" content="Here is an overview of the issue types currently reported by Infer."><meta data-react-helmet="true" property="og:description" content="Here is an overview of the issue types currently reported by Infer."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://fbinfer.com/docs/next/all-issue-types"><link data-react-helmet="true" rel="alternate" href="https://fbinfer.com/docs/next/all-issue-types" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fbinfer.com/docs/next/all-issue-types" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.9681c63f.css">
<link rel="preload" href="/assets/js/styles.3db6cd2a.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.bb91a5c8.js" as="script">
<link rel="preload" href="/assets/js/main.257c0503.js" as="script">
<link rel="preload" href="/assets/js/1.be64a6fd.js" as="script">
<link rel="preload" href="/assets/js/2.24584f07.js" as="script">
<link rel="preload" href="/assets/js/3.0b9adf9a.js" as="script">
<link rel="preload" href="/assets/js/1be78505.923a2ecb.js" as="script">
<link rel="preload" href="/assets/js/184.881214a8.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.4601d483.js" as="script">
<link rel="preload" href="/assets/js/17896441.c51ac4ee.js" as="script">
<link rel="preload" href="/assets/js/c359af60.cbf77ade.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Infer Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Infer Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Infer</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/docs/support">Support</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://twitter.com/fbinfer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Twitter</a><a href="https://www.facebook.com/inferstaticanalyzer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Facebook</a><a href="https://github.com/facebook/infer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_cxYs"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Infer Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Infer Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Infer</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/support">Support</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://twitter.com/fbinfer" target="_blank" rel="noopener noreferrer" class="menu__link">Twitter</a></li><li class="menu__list-item"><a href="https://www.facebook.com/inferstaticanalyzer" target="_blank" rel="noopener noreferrer" class="menu__link">Facebook</a></li><li class="menu__list-item"><a href="https://github.com/facebook/infer" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Quick Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/getting-started">Getting started with Infer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/hello-world">Hello, World!</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/infer-workflow">Infer workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/analyzing-apps-or-projects">Analyzing apps or projects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/steps-for-ci">Recommended flow for CI</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Infer Manuals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer">infer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-analyze">infer analyze</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-capture">infer capture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-compile">infer compile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-debug">infer debug</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-explore">infer explore</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-help">infer help</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-report">infer report</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-reportdiff">infer reportdiff</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/man-infer-run">infer run</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Analyses and Issue Types</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/next/all-issue-types">List of all issue types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-annotation-reachability">Annotation Reachability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-biabduction">Biabduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-bufferoverrun">Buffer Overrun Analysis (InferBO)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-config-impact-analysis">Config Impact Analysis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-cost">Cost: Complexity Analysis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-eradicate">Eradicate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-fragment-retains-view">Fragment Retains View</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-immutable-cast">Immutable Cast</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-impurity">Impurity</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-inefficient-keyset-iterator">Inefficient keySet Iterator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-linters">AST Language (AL)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-litho-required-props">Litho &quot;Required Props&quot;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-liveness">Liveness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-loop-hoisting">Loop Hoisting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-parameter-not-null-checked">Parameter Not Null Checked</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-printf-args">`printf()` Argument Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-pulse">Pulse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-purity">Purity</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-quandary">Quandary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-racerd">RacerD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-resource-leak-lab">Resource Leak Lab Exercise</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-dotnet-resource-leak">Resource Leak checker for .NET</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-siof">Static Initialization Order Fiasco</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-simple-lineage">Simple Lineage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-self-in-block">Self in Block</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-starvation">Starvation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-topl">Topl</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/checker-uninit">Uninitialized Value</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Foundations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/about-Infer">About Infer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/separation-logic-and-bi-abduction">Separation logic and bi-abduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contribute</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/absint-framework">Building checkers with the Infer.AI framework</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/internal-API">Infer Internal OCaml Modules API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/versions">Documentation Versions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Infer <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/all-issue-types">latest version</a></strong> (1.1.0).</div></div><div class="docItemContainer_oiyr"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_-X99">List of all issue types</h1></header><div class="markdown"><p>Here is an overview of the issue types currently reported by Infer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="arbitrary_code_execution_under_lock"></a>ARBITRARY_CODE_EXECUTION_UNDER_LOCK<a class="hash-link" href="#arbitrary_code_execution_under_lock" title="Direct link to heading">#</a></h2><p>Reported as &quot;Arbitrary Code Execution Under lock&quot; by <a href="/docs/next/checker-starvation">starvation</a>.</p><p>A call that may execute arbitrary code (such as registered, or chained, callbacks) is made while holding a lock.
This code may deadlock whenever the callbacks obtain locks themselves, so it is an unsafe pattern.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  SettableFuture future = null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void callFutureSet() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    future.set(null);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // synchronized means it&#x27;s taking a lock implicitly</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public synchronized void example_of_bad_pattern() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    callFutureSet(); // &lt;- issue reported here</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // If the call is made while holding multiple locks, the warning</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // will be issued only at the innermost lock acquisition. Here we</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // report in example_of_bad_pattern but we won&#x27;t report below.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void nested_bad_pattern_no_report(Object o) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    synchronized (o) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      example_of_bad_pattern(); // &lt;- no issue reported</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="assign_pointer_warning"></a>ASSIGN_POINTER_WARNING<a class="hash-link" href="#assign_pointer_warning" title="Direct link to heading">#</a></h2><p>Reported as &quot;Assign Pointer Warning&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>This check fires when a pointer to an Obj-C object is tagged with an <code>assign</code>
property (similar to the <code>-Warc-unsafe-retained-assign</code> compiler flag). Not
holding a strong reference to the object makes it easy to accidentally create
and use a dangling pointer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="autoreleasepool_size_complexity_increase"></a>AUTORELEASEPOOL_SIZE_COMPLEXITY_INCREASE<a class="hash-link" href="#autoreleasepool_size_complexity_increase" title="Direct link to heading">#</a></h2><p>Reported as &quot;Autoreleasepool Size Complexity Increase&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>[EXPERIMENTAL] Infer reports this issue when the ObjC autoreleasepool&#x27;s size complexity of a
program increases in degree: e.g. from constant to linear or from logarithmic to quadratic. This
issue type is only reported in differential mode: i.e when we are comparing the analysis results of
two runs of infer on a file.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="autoreleasepool_size_complexity_increase_ui_thread"></a>AUTORELEASEPOOL_SIZE_COMPLEXITY_INCREASE_UI_THREAD<a class="hash-link" href="#autoreleasepool_size_complexity_increase_ui_thread" title="Direct link to heading">#</a></h2><p>Reported as &quot;Autoreleasepool Size Complexity Increase Ui Thread&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>[EXPERIMENTAL] Infer reports this issue when the ObjC autoreleasepool&#x27;s complexity of the
procedure increases in degree <strong>and</strong> the procedure runs on the UI (main) thread.</p><p>Infer considers a method as running on the UI thread whenever:</p><ul><li>The method, one of its overrides, its class, or an ancestral class, is annotated with <code>@UiThread</code>.</li><li>The method, or one of its overrides is annotated with <code>@OnEvent</code>, <code>@OnClick</code>, etc.</li><li>The method or its callees call a <code>Litho.ThreadUtils</code> method such as <code>assertMainThread</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="autoreleasepool_size_unreachable_at_exit"></a>AUTORELEASEPOOL_SIZE_UNREACHABLE_AT_EXIT<a class="hash-link" href="#autoreleasepool_size_unreachable_at_exit" title="Direct link to heading">#</a></h2><p>Reported as &quot;Autoreleasepool Size Unreachable At Exit&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>[EXPERIMENTAL] This issue type indicates that the program&#x27;s execution doesn&#x27;t reach the exit
node. Hence, we cannot compute a static bound of ObjC autoreleasepool&#x27;s size for the procedure.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bad_key"></a>BAD_KEY<a class="hash-link" href="#bad_key" title="Direct link to heading">#</a></h2><p>Reported as &quot;Bad Key&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>Bad key in Erlang: Reports an error when trying to access or update a non-existing key in a map. Corresponds to the <code>{badkey,K}</code> error in the Erlang runtime.</p><p>For example, trying to update the key <code>2</code> in <code>M</code> gives <code>{badkey,2}</code> error because <code>2</code> is not present as a key in <code>M</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI erlang"><div tabindex="0" class="prism-code language-erlang codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">f() -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    M = #{1 =&gt; 2},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    M#{2 := 3}.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bad_key_latent"></a>BAD_KEY_LATENT<a class="hash-link" href="#bad_key_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Bad Key Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#bad_key">BAD_KEY</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bad_map"></a>BAD_MAP<a class="hash-link" href="#bad_map" title="Direct link to heading">#</a></h2><p>Reported as &quot;Bad Map&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>Bad map in Erlang: Reports an error when trying to access or update a key for a term that is not a map. Corresponds to the <code>{badmap,...}</code> error in the Erlang runtime.</p><p>For example, trying to update <code>L</code> as if it was a map gives <code>{badmap,[1,2,3]}</code> error because <code>L</code> is actually a list (<code>[1,2,3]</code>).</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI erlang"><div tabindex="0" class="prism-code language-erlang codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">f() -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    L = [1,2,3],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    L#{1 =&gt; 2}.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bad_map_latent"></a>BAD_MAP_LATENT<a class="hash-link" href="#bad_map_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Bad Map Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#bad_map">BAD_MAP</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bad_pointer_comparison"></a>BAD_POINTER_COMPARISON<a class="hash-link" href="#bad_pointer_comparison" title="Direct link to heading">#</a></h2><p>Reported as &quot;Bad Pointer Comparison&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>Infer reports these warnings in Objective-C when a boxed primitive type such as
<code>NSNumber *</code> is coerced to a boolean in a comparison. For example, consider the
code</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSNumber </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The branch in the above code will be taken when the pointer <code>n</code> is non-<code>nil</code>,
but the programmer might have actually wanted the branch to be taken when the
integer pointed to by <code>n</code> is nonzero (e.g., she may have meant to call an
accessor like <code>[n intValue]</code> instead). Infer will ask the programmer explicitly
compare <code>n</code> to <code>nil</code> or call an accessor to clarify her intention.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bad_record"></a>BAD_RECORD<a class="hash-link" href="#bad_record" title="Direct link to heading">#</a></h2><p>Reported as &quot;Bad Record&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>Bad record in Erlang: Reports an error when trying to access or update a record with the wrong name. Corresponds to the <code>{badrecord,Name}</code> error in the Erlang runtime.</p><p>For example, accessing <code>R</code> as a <code>person</code> record gives <code>{badrecord,person}</code> error because <code>R</code> is <code>rabbit</code> (even though both share the <code>name</code> field).</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI erlang"><div tabindex="0" class="prism-code language-erlang codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-record(person, {name, phone}).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-record(rabbit, {name, color}).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">f() -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    R = #rabbit{name = &quot;Bunny&quot;, color = &quot;Brown&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    R#person.name</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bad_record_latent"></a>BAD_RECORD_LATENT<a class="hash-link" href="#bad_record_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Bad Record Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#bad_record">BAD_RECORD</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="biabduction_memory_leak"></a>BIABDUCTION_MEMORY_LEAK<a class="hash-link" href="#biabduction_memory_leak" title="Direct link to heading">#</a></h2><p>Reported as &quot;Memory Leak&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>See <a href="#memory_leak">MEMORY_LEAK</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="block_parameter_not_null_checked"></a>BLOCK_PARAMETER_NOT_NULL_CHECKED<a class="hash-link" href="#block_parameter_not_null_checked" title="Direct link to heading">#</a></h2><p>Reported as &quot;Block Parameter Not Null Checked&quot; by <a href="/docs/next/checker-parameter-not-null-checked">parameter-not-null-checked</a>.</p><p>This error type is reported only in Objective-C/Objective-C++. It happens when a method has a block as a parameter,
and the block is executed in the method&#x27;s body without checking it for <code>nil</code> first. If a <code>nil</code> block is passed to
the method, then this will cause a crash. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">uploadTaskWithRequest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSURLRequest</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">urlRequest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       fromFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSURL</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">fileURL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       delegate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">delegate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  delegateQueue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSOperationQueue</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">delegateQueue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                     completion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">completion </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">completion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action</strong>:
Possible solutions are adding a check for <code>nil</code>, or making sure that the method
is not ever called with <code>nil</code>. When an argument will never be <code>nil</code>, you can add
the annotation <code>nonnull</code> to the argument&#x27;s type, to tell Infer (and the type
system), that the argument won&#x27;t be <code>nil</code>. This will silence the warning.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="buffer_overrun_l1"></a>BUFFER_OVERRUN_L1<a class="hash-link" href="#buffer_overrun_l1" title="Direct link to heading">#</a></h2><p>Reported as &quot;Buffer Overrun L1&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>This is reported when outside of buffer bound is accessed.  It can corrupt memory and may introduce
security issues in C/C++.</p><p>For example, <code>int a[3]; a[5] = 42;</code> generates a <code>BUFFER_OVERRUN_L1</code> on <code>a[5] = 42;</code>.</p><p>Buffer overrun reports fall into several &quot;buckets&quot; corresponding to the expected precision of the
report.  The higher the number, the more likely it is to be a false positive.</p><ul><li><p><code>L1</code>: The most faithful report, when it <em>must</em> be unsafe.  For example, array size: <code>[3,3]</code>,
offset: <code>[5,5]</code>.</p></li><li><p><code>L2</code>: Less faithful report than <code>L1</code>, when it <em>may</em> be unsafe.  For example, array size:<code>[3,3]</code>,
offset: <code>[0,5]</code>.  Note that the offset may be a safe value in the real execution, i.e. safe when
0, 1, or 2; unsafe when 3, 4, or 5.</p></li><li><p><code>L5</code>: The least faithful report, when there is an interval top.  For example, array size:
<code>[3,3]</code>, offset: <code>[-oo,+oo]</code>.</p></li><li><p><code>L4</code>: More faithful report than <code>L5</code>, when there is an infinity value.  For example, array size:
<code>[3,3]</code>, offset: <code>[0, +oo]</code>.</p></li><li><p><code>L3</code>: The reports that are not included in the above cases.</p></li><li><p><code>S2</code>: An array access is unsafe by symbolic values.  For example, array size: <code>[n,n]</code>, offset
<code>[n,+oo]</code>.</p></li><li><p><code>U5</code>: An array access is unsafe by unknown values, which are usually from unknown function
calls.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="buffer_overrun_l2"></a>BUFFER_OVERRUN_L2<a class="hash-link" href="#buffer_overrun_l2" title="Direct link to heading">#</a></h2><p>Reported as &quot;Buffer Overrun L2&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#buffer_overrun_l1">BUFFER_OVERRUN_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="buffer_overrun_l3"></a>BUFFER_OVERRUN_L3<a class="hash-link" href="#buffer_overrun_l3" title="Direct link to heading">#</a></h2><p>Reported as &quot;Buffer Overrun L3&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#buffer_overrun_l1">BUFFER_OVERRUN_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="buffer_overrun_l4"></a>BUFFER_OVERRUN_L4<a class="hash-link" href="#buffer_overrun_l4" title="Direct link to heading">#</a></h2><p>Reported as &quot;Buffer Overrun L4&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#buffer_overrun_l1">BUFFER_OVERRUN_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="buffer_overrun_l5"></a>BUFFER_OVERRUN_L5<a class="hash-link" href="#buffer_overrun_l5" title="Direct link to heading">#</a></h2><p>Reported as &quot;Buffer Overrun L5&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#buffer_overrun_l1">BUFFER_OVERRUN_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="buffer_overrun_s2"></a>BUFFER_OVERRUN_S2<a class="hash-link" href="#buffer_overrun_s2" title="Direct link to heading">#</a></h2><p>Reported as &quot;Buffer Overrun S2&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#buffer_overrun_l1">BUFFER_OVERRUN_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="buffer_overrun_u5"></a>BUFFER_OVERRUN_U5<a class="hash-link" href="#buffer_overrun_u5" title="Direct link to heading">#</a></h2><p>Reported as &quot;Buffer Overrun U5&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#buffer_overrun_l1">BUFFER_OVERRUN_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="captured_strong_self"></a>CAPTURED_STRONG_SELF<a class="hash-link" href="#captured_strong_self" title="Direct link to heading">#</a></h2><p>Reported as &quot;Captured strongSelf&quot; by <a href="/docs/next/checker-self-in-block">self-in-block</a>.</p><p>This check is about when a strong pointer to <code>self</code> is captured in a block.
This could lead to retain cycles or unexpected behavior since to avoid retain
cycles one usually uses a local strong pointer or a captured weak pointer instead.</p><p>This will happen in one of two cases generally:</p><ol><li>One uses <code>weakSelf</code> but forgot to declare it weak first.</li></ol><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BOOL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BOOL isTapped</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> strongSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action:</strong> Replace the first line with <code>__weak __typeof(self) weakSelf = self;</code>.</p><ol start="2"><li><p>One is using <code>strongSelf</code>, declared in a block, in another inner block.
The retain cycle is avoided in the outer block because <code>strongSelf</code> is a
local variable of the block. If <code>strongSelf</code> is used in the inner block,
then it&#x27;s not a local variable anymore, but a captured variable.</p><p>Example:</p></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token keyword" style="font-style:italic">typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">strongSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> strongSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this example, <code>strongSelf</code> is a captured variable of the inner block, and this could cause retain cycles.</p><p><strong>Action:</strong> Use a new pointer to self local to the inner block. In the example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token keyword" style="font-style:italic">typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">strongSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> innerStrongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> innerStrongSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Or, to improve readability, move the inner block logic into a separate method.</p><p>Another solution could be to copy the instance variable that one needs to access inside the inner block to a local variable, and use the local variable instead:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token keyword" style="font-style:italic">typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">strongSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> my_x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> strongSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> my_x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="checkers_allocates_memory"></a>CHECKERS_ALLOCATES_MEMORY<a class="hash-link" href="#checkers_allocates_memory" title="Direct link to heading">#</a></h2><p>Reported as &quot;Allocates Memory&quot; by <a href="/docs/next/checker-annotation-reachability">annotation-reachability</a>.</p><p>A method annotated with <code>@NoAllocation</code> transitively calls <code>new</code>.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C implements I {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @NoAllocation</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void directlyAllocatingMethod() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    new Object();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="checkers_annotation_reachability_error"></a>CHECKERS_ANNOTATION_REACHABILITY_ERROR<a class="hash-link" href="#checkers_annotation_reachability_error" title="Direct link to heading">#</a></h2><p>Reported as &quot;Annotation Reachability Error&quot; by <a href="/docs/next/checker-annotation-reachability">annotation-reachability</a>.</p><p>A method annotated with an annotation <code>@A</code> transitively calls a method annotated <code>@B</code> where the combination of annotations is forbidden (for example, <code>@UiThread</code> calling <code>@WorkerThread</code>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="checkers_calls_expensive_method"></a>CHECKERS_CALLS_EXPENSIVE_METHOD<a class="hash-link" href="#checkers_calls_expensive_method" title="Direct link to heading">#</a></h2><p>Reported as &quot;Expensive Method Called&quot; by <a href="/docs/next/checker-annotation-reachability">annotation-reachability</a>.</p><p>A method annotated with <code>@PerformanceCritical</code> transitively calls a method annotated <code>@Expensive</code>.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @PerformanceCritical</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void perfCritical() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    expensive();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @Expensive</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void expensive() {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="checkers_expensive_overrides_unannotated"></a>CHECKERS_EXPENSIVE_OVERRIDES_UNANNOTATED<a class="hash-link" href="#checkers_expensive_overrides_unannotated" title="Direct link to heading">#</a></h2><p>Reported as &quot;Expensive Overrides Unannotated&quot; by <a href="/docs/next/checker-annotation-reachability">annotation-reachability</a>.</p><p>A method annotated with <code>@Expensive</code> overrides an un-annotated method.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">interface I {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void foo();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class A implements I {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @Expensive</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void foo() {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="checkers_fragment_retains_view"></a>CHECKERS_FRAGMENT_RETAINS_VIEW<a class="hash-link" href="#checkers_fragment_retains_view" title="Direct link to heading">#</a></h2><p>Reported as &quot;Fragment Retains View&quot; by <a href="/docs/next/checker-fragment-retains-view">fragment-retains-view</a>.</p><p>This error type is Android-specific. It fires when a <code>Fragment</code> type fails to
nullify one or more of its declared <code>View</code> fields in <code>onDestroyView</code>. In
performance-sensitive applications, a <code>Fragment</code> should initialize all <code>View</code>&#x27;s
in <code>onCreateView</code> and nullify them in <code>onDestroyView</code>. If a <code>Fragment</code> is placed
on the back stack and fails to nullify a <code>View</code> in <code>onDestroyView</code>, it will
retain a useless reference to that <code>View</code> that will not be cleaned up until the
<code>Fragment</code> is resumed or destroyed.</p><p>Action: Nullify the <code>View</code> in question in <code>onDestroyView</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="checkers_immutable_cast"></a>CHECKERS_IMMUTABLE_CAST<a class="hash-link" href="#checkers_immutable_cast" title="Direct link to heading">#</a></h2><p>Reported as &quot;Checkers Immutable Cast&quot; by <a href="/docs/next/checker-immutable-cast">immutable-cast</a>.</p><p>This error type is reported in Java. It fires when an immutable collection is
returned from a method whose type is mutable.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public List&lt;String&gt; getSomeList() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ImmutableList&lt;String&gt; l = foo(...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return l;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This can lead to a runtime error if users of <code>getSomeList</code> try to modify the
list e.g. by adding elements.</p><p>Action: you can change the return type to be immutable, or make a copy of the
collection so that it can be modified.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="checkers_printf_args"></a>CHECKERS_PRINTF_ARGS<a class="hash-link" href="#checkers_printf_args" title="Direct link to heading">#</a></h2><p>Reported as &quot;Checkers Printf Args&quot; by <a href="/docs/next/checker-printf-args">printf-args</a>.</p><p>This error is reported when the argument types to a <code>printf</code> method do not match the format string.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void stringInsteadOfInteger(PrintStream out) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    out.printf(&quot;Hello %d&quot;, &quot;world&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: fix the mismatch between format string and argument types.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="component_with_multiple_factory_methods"></a>COMPONENT_WITH_MULTIPLE_FACTORY_METHODS<a class="hash-link" href="#component_with_multiple_factory_methods" title="Direct link to heading">#</a></h2><p>Reported as &quot;Component With Multiple Factory Methods&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="config_impact"></a>CONFIG_IMPACT<a class="hash-link" href="#config_impact" title="Direct link to heading">#</a></h2><p>Reported as &quot;Config Impact&quot; by <a href="/docs/next/checker-config-impact-analysis">config-impact-analysis</a>.</p><p>Infer reports this issue when an <em>expensive</em> function is called without a <em>config check</em>.  The
<em>config</em> is usually a boolean value that enables experimental new features and it is defined per
application/codebase, e.g. gatekeepers.  To determine whether a function is expensive or not, the
checker relies on <a href="/docs/next/checker-cost">Cost analysis</a> results and modeled functions that are
assumed to be expensive, e.g. string operations, regular expression match, or DB accesses.</p><p>Similar to <a href="/docs/next/checker-cost">Cost analysis</a>, this issue type is reported only in
differential mode, i.e. when there are original code and modified one and we can compare Infer&#x27;s
results on both of them.</p><p>For instance, if we have the following code</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// version1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">foo();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (config_check){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   bar();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>which is then modified to next</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// version2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">foo();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (config_check){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   bar();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">goo(); // added</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>the analysis would warn the developer that &quot;<code>goo()</code> is a newly added function call and it might
cause an unexpected new behavior&quot;. However, if we were to add <code>goo()</code> right after <code>bar()</code>, then
Infer wouldn&#x27;t warn about it because it is already gated under the <code>config_check</code>.</p><p>The analysis is inter-procedural: it can reason about impacts by code changes not only inside a
single procedure, but also the impacts that are propagated by function calls. Thus, if we were to
modify <code>version1</code> to <code>version3</code> below by calling <code>goo()</code> in <code>foo()</code>,</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// version3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void foo(){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   // ....</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   goo(); // added</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>then the analysis will report a <code>CONFIG_IMPACT</code> issue on the ungated call site of <code>foo()</code>.</p><p>Currently, the analysis supports both Objective-C and Java but not C++.</p><p>Action: Make sure the ungated code change is semantically correct and harmless in terms of execution
cost.  If you are not sure, gate it with a new or pre-existing config.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="config_impact_strict"></a>CONFIG_IMPACT_STRICT<a class="hash-link" href="#config_impact_strict" title="Direct link to heading">#</a></h2><p>Reported as &quot;Config Impact Strict&quot; by <a href="/docs/next/checker-config-impact-analysis">config-impact-analysis</a>.</p><p>This is similar to <a href="#config_impact"><code>CONFIG_IMPACT</code> issue</a> but the analysis reports <strong>all</strong> ungated
codes irrespective of whether they are expensive or not.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="constant_address_dereference"></a>CONSTANT_ADDRESS_DEREFERENCE<a class="hash-link" href="#constant_address_dereference" title="Direct link to heading">#</a></h2><p>Reported as &quot;Constant Address Dereference&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>This is reported when an address at an absolute location, e.g. 1234,
is dereferenced. It is a more general version of the
<a href="#nullptr_dereference"><code>NULLPTR_DEREFERENCE</code></a> error type that is
reported when the address is a constant other than zero.</p><p>For example, <code>int *p = (int *) 123; *p = 42;</code> generates a <code>CONSTANT_ADDRESS_DEREFERENCE</code> on <code>*p = 42;</code>.</p><p>For more information see the <a href="#nullptr_dereference"><code>NULLPTR_DEREFERENCE</code></a> issue type.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="constant_address_dereference_latent"></a>CONSTANT_ADDRESS_DEREFERENCE_LATENT<a class="hash-link" href="#constant_address_dereference_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Constant Address Dereference Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#constant_address_dereference">CONSTANT_ADDRESS_DEREFERENCE</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="create_intent_from_uri"></a>CREATE_INTENT_FROM_URI<a class="hash-link" href="#create_intent_from_uri" title="Direct link to heading">#</a></h2><p>Reported as &quot;Create Intent From Uri&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Create an intent/start a component using a (possibly user-controlled) URI. may or may not be an issue depending on where the URI comes from.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cross_site_scripting"></a>CROSS_SITE_SCRIPTING<a class="hash-link" href="#cross_site_scripting" title="Direct link to heading">#</a></h2><p>Reported as &quot;Cross Site Scripting&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted data flows into HTML; XSS risk.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cxx_reference_captured_in_objc_block"></a>CXX_REFERENCE_CAPTURED_IN_OBJC_BLOCK<a class="hash-link" href="#cxx_reference_captured_in_objc_block" title="Direct link to heading">#</a></h2><p>Reported as &quot;Cxx Reference Captured In Objc Block&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>With this check, Infer detects C++ references captured in a block. Doing this is
almost always wrong. The reason is that C++ references are not managed pointers
(like ARC pointers) and so the referent is likely to be gone by the time the
block gets executed. One solution is to do a local copy of the reference and
pass that to the block. Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI c"><div tabindex="0" class="prism-code language-c codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> copied_v </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// use copied_v not v</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="dangling_pointer_dereference"></a>DANGLING_POINTER_DEREFERENCE<a class="hash-link" href="#dangling_pointer_dereference" title="Direct link to heading">#</a></h2><p>Reported as &quot;Dangling Pointer Dereference&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="deadlock"></a>DEADLOCK<a class="hash-link" href="#deadlock" title="Direct link to heading">#</a></h2><p>Reported as &quot;Deadlock&quot; by <a href="/docs/next/checker-starvation">starvation</a>.</p><p>This error is currently reported in Java. A deadlock occurs when two distinct
threads try to acquire two locks in reverse orders. The following code
illustrates a textbook example. Of course, in real deadlocks, the lock
acquisitions may be separated by deeply nested call chains.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void lockAThenB() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    synchronized(lockA) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      synchronized(lockB) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       // do something with both resources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void lockBThenA() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    synchronized(lockB) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      synchronized(lockA) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       // do something with both resources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The standard solution to a deadlock is to fix an order of lock acquisition and
adhere to that order in all cases. Another solution may be to shrink the
critical sections (i.e., the code executing under lock) to the minimum required.</p><p>Old-style containers such as <code>Vector</code> are synchronized on the object monitor,
which means that deadlocks can occur even without explicit synchronisation on
both threads. For instance:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void lockAThenAddToVector() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    synchronized(lockA) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vector.add(object);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void lockVectorThenA() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    synchronized(vector) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      synchronized(lockA) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       // do something with both resources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Infer has support for detecting these deadlocks too.</p><p>To suppress reports of deadlocks in a method <code>m()</code> use the
<code>@SuppressLint(&quot;DEADLOCK&quot;)</code> annotation, as follows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  import android.annotation.SuppressLint;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @SuppressLint(&quot;DEADLOCK&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void m() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="dead_store"></a>DEAD_STORE<a class="hash-link" href="#dead_store" title="Direct link to heading">#</a></h2><p>Reported as &quot;Dead Store&quot; by <a href="/docs/next/checker-liveness">liveness</a>.</p><p>This error is reported in C++. It fires when the value assigned to a variables
is never used (e.g., <code>int i = 1; i = 2; return i;</code>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="direct_atomic_property_access"></a>DIRECT_ATOMIC_PROPERTY_ACCESS<a class="hash-link" href="#direct_atomic_property_access" title="Direct link to heading">#</a></h2><p>Reported as &quot;Direct Atomic Property Access&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>This check warns you when you are accessing an atomic property directly with an
ivar. This makes the atomic property not atomic anymore. So potentially you may
get a race condition.</p><p>To fix the problem you need to access properties with their getter or setter.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="discouraged_weak_property_custom_setter"></a>DISCOURAGED_WEAK_PROPERTY_CUSTOM_SETTER<a class="hash-link" href="#discouraged_weak_property_custom_setter" title="Direct link to heading">#</a></h2><p>Reported as &quot;Discouraged Weak Property Custom Setter&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>This check warns you when you have a custom setter for a weak property. When
compiled with Automatic Reference Counting (ARC, <code>-fobj-arc</code>) ARC may set the
property to <code>nil</code> without invoking the setter, for example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">import</span><span class="token macro property"> </span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token macro property expression">Foundation</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">/</span><span class="token macro property expression">Foundation</span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token macro property expression">h</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@interface</span><span class="token plain"> Employee </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NSObject </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> _name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> _manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">atomic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> weak</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@implementation</span><span class="token plain"> Employee</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  _name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">description </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> _name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">report </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">NSLog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;I work for %@&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> _manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">manager </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> _manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// DON&#x27;T do this; ARC will not call this when setting _manager to nil.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">setManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">newManager </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">NSLog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Meet the new boss...&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  _manager </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> newManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">argv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> bob </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Employee alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Bob&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> sue </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Employee alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Sue&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bob</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">manager </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> sue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">bob report</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  sue </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">bob report</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This prints:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Meet the new boss...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I work for Sue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I work for (null)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Note that the custom setter was only invoked once.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="divide_by_zero"></a>DIVIDE_BY_ZERO<a class="hash-link" href="#divide_by_zero" title="Direct link to heading">#</a></h2><p>Reported as &quot;Divide By Zero&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="dotnet_resource_leak"></a>DOTNET_RESOURCE_LEAK<a class="hash-link" href="#dotnet_resource_leak" title="Direct link to heading">#</a></h2><p>Reported as &quot;Dotnet Resource Leak&quot; by <a href="/docs/next/checker-dotnet-resource-leak">dotnet-resource-leak</a>.</p><p>Resource leak checker for .NET.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="empty_vector_access"></a>EMPTY_VECTOR_ACCESS<a class="hash-link" href="#empty_vector_access" title="Direct link to heading">#</a></h2><p>Reported as &quot;Empty Vector Access&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>This error type is reported only in C++, in versions &gt;= C++11.</p><p>The code is trying to access an element of a vector that Infer believes to be
empty. Such an access will cause undefined behavior at runtime.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;vector&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">vector</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> vec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> vec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Empty vector access reported here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_annotation_graph"></a>ERADICATE_ANNOTATION_GRAPH<a class="hash-link" href="#eradicate_annotation_graph" title="Direct link to heading">#</a></h2><p>Reported as &quot;Annotation Graph&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_bad_nested_class_annotation"></a>ERADICATE_BAD_NESTED_CLASS_ANNOTATION<a class="hash-link" href="#eradicate_bad_nested_class_annotation" title="Direct link to heading">#</a></h2><p>Reported as &quot;@Nullsafe annotation is inconsistent with outer class&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_condition_redundant"></a>ERADICATE_CONDITION_REDUNDANT<a class="hash-link" href="#eradicate_condition_redundant" title="Direct link to heading">#</a></h2><p>Reported as &quot;Condition Redundant&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>This report is inactive by default. Condition (x != null) or (x == null) when x
cannot be null: the first condition is always true and the second is always
false</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void m() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    String s = new String(&quot;abc&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (s != null) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      int n = s.length();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: Make sure that the annotations are correct, as the condition is
considered redundant based on the existing annotations. In particular, check the
annotation of any input parameters and fields of the current method, as well as
the annotations of any method called directly by the current method, if
relevant. If the annotations are correct, you can remove the redundant case.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_field_not_initialized"></a>ERADICATE_FIELD_NOT_INITIALIZED<a class="hash-link" href="#eradicate_field_not_initialized" title="Direct link to heading">#</a></h2><p>Reported as &quot;Field Not Initialized&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>The constructor does not initialize a field f which is not annotated with
@Nullable</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String f;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  C () { // field f not initialized and not annotated @Nullable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: The preferred action is to initialize the field with a value that is not
null. If, by design, null is a valid value for the field, then it should be
annotated with @Nullable.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_field_not_nullable"></a>ERADICATE_FIELD_NOT_NULLABLE<a class="hash-link" href="#eradicate_field_not_nullable" title="Direct link to heading">#</a></h2><p>Reported as &quot;Field Not Nullable&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>An assignment x.f = v where v could be null and field f is not annotated with
@Nullable.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String f;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void foo(@Nullable String s) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    f = s;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: The preferred action is to ensure that a null value is never stored in
the field, by changing the code or changing annotations. If this cannot be done,
add a @Nullable annotation to the field. This annotation might trigger more
warnings in other code that uses the field, as that code must now deal with null
values.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_field_over_annotated"></a>ERADICATE_FIELD_OVER_ANNOTATED<a class="hash-link" href="#eradicate_field_over_annotated" title="Direct link to heading">#</a></h2><p>Reported as &quot;Field Over Annotated&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_inconsistent_subclass_parameter_annotation"></a>ERADICATE_INCONSISTENT_SUBCLASS_PARAMETER_ANNOTATION<a class="hash-link" href="#eradicate_inconsistent_subclass_parameter_annotation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inconsistent Subclass Parameter Annotation&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>A parameter of the overridden method is missing a @Nullable annotation present in the superclass.</p><p>Action: choose a consistent annotation based on the desired invariant.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class A {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int len(@Nullable String s) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (s != null) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      return s.length();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class B extends A {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int len(String s) {  // @Nullable missing.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return s.length();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>A consistent use of @Nullable on parameters across subtyping should prevent runtime issue like in:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class Main {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String s;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int foo() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    A a = new B();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return a.len(s);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_inconsistent_subclass_return_annotation"></a>ERADICATE_INCONSISTENT_SUBCLASS_RETURN_ANNOTATION<a class="hash-link" href="#eradicate_inconsistent_subclass_return_annotation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inconsistent Subclass Return Annotation&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>The return type of the overridden method is annotated @Nullable, but the
corresponding method in the superclass is not.</p><p>Action: choose a consistent annotation based on the desired invariant.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class A {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String create() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return new String(&quot;abc&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class B extends A {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @Nullable String create() {  // Inconsistent @Nullable annotation.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      return null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>A consistent use of <code>@Nullable</code> on the return type across subtyping should prevent
runtime issue like in:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Main {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int foo(A a) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     String s = a.create();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     return s.length();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void main(String[] args) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     A a = new B();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     foo(a);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_meta_class_can_be_nullsafe"></a>ERADICATE_META_CLASS_CAN_BE_NULLSAFE<a class="hash-link" href="#eradicate_meta_class_can_be_nullsafe" title="Direct link to heading">#</a></h2><p>Reported as &quot;Class has 0 issues and can be marked @Nullsafe&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_meta_class_is_nullsafe"></a>ERADICATE_META_CLASS_IS_NULLSAFE<a class="hash-link" href="#eradicate_meta_class_is_nullsafe" title="Direct link to heading">#</a></h2><p>Reported as &quot;Class is marked @Nullsafe and has 0 issues&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_meta_class_needs_improvement"></a>ERADICATE_META_CLASS_NEEDS_IMPROVEMENT<a class="hash-link" href="#eradicate_meta_class_needs_improvement" title="Direct link to heading">#</a></h2><p>Reported as &quot;Class needs improvement to become @Nullsafe&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>Reported when the class either:</p><ul><li>has at least one nullability issue, or</li><li>has at least one (currently possibly hidden) issue preventing it from being marked <code>@Nullsafe</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_nullable_dereference"></a>ERADICATE_NULLABLE_DEREFERENCE<a class="hash-link" href="#eradicate_nullable_dereference" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nullable Dereference&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_parameter_not_nullable"></a>ERADICATE_PARAMETER_NOT_NULLABLE<a class="hash-link" href="#eradicate_parameter_not_nullable" title="Direct link to heading">#</a></h2><p>Reported as &quot;Parameter Not Nullable&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>Method call x.m(..., v, ...) where v can be null and the corresponding parameter
in method m is not annotated with @Nullable</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void m(C x) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    String s = x.toString()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void test(@Nullable C x) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    m(x);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: The preferred action is to ensure that a null value is never passed to
the method, by changing the code or changing annotations. If this cannot be
done, add a @Nullable annotation to the relevant parameter in the method
declaration. This annotation might trigger more warnings in the implementation
of method m, as that code must now deal with null values.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_redundant_nested_class_annotation"></a>ERADICATE_REDUNDANT_NESTED_CLASS_ANNOTATION<a class="hash-link" href="#eradicate_redundant_nested_class_annotation" title="Direct link to heading">#</a></h2><p>Reported as &quot;@Nullsafe annotation is redundant&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_return_not_nullable"></a>ERADICATE_RETURN_NOT_NULLABLE<a class="hash-link" href="#eradicate_return_not_nullable" title="Direct link to heading">#</a></h2><p>Reported as &quot;Return Not Nullable&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>Method m can return null, but the method&#x27;s return type is not annotated with
@Nullable</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String m() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: The preferred action is to ensure that a null value is never returned by
the method, by changing the code or changing annotations. If this cannot be
done, add a @Nullable annotation to the the method declaration. This annotation
might trigger more warnings in the callers of method m, as the callers must now
deal with null values.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_return_over_annotated"></a>ERADICATE_RETURN_OVER_ANNOTATED<a class="hash-link" href="#eradicate_return_over_annotated" title="Direct link to heading">#</a></h2><p>Reported as &quot;Return Over Annotated&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><p>This report is inactive by default. Method m is annotated with @Nullable but the
method cannot return null</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @Nullable String m() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    String s = new String(&quot;abc&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return s;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: Make sure that the annotations are correct, as the return annotation is
considered redundant based on the existing annotations. In particular, check the
annotation of any input parameters and fields of the current method, as well as
the annotations of any method called directly by the current method, if
relevant. If the annotations are correct, you can remove the @Nullable
annotation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_unchecked_usage_in_nullsafe"></a>ERADICATE_UNCHECKED_USAGE_IN_NULLSAFE<a class="hash-link" href="#eradicate_unchecked_usage_in_nullsafe" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nullsafe mode: unchecked usage of a value&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="eradicate_unvetted_third_party_in_nullsafe"></a>ERADICATE_UNVETTED_THIRD_PARTY_IN_NULLSAFE<a class="hash-link" href="#eradicate_unvetted_third_party_in_nullsafe" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nullsafe mode: unchecked usage of unvetted third-party&quot; by <a href="/docs/next/checker-eradicate">eradicate</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="execution_time_complexity_increase"></a>EXECUTION_TIME_COMPLEXITY_INCREASE<a class="hash-link" href="#execution_time_complexity_increase" title="Direct link to heading">#</a></h2><p>Reported as &quot;Execution Time Complexity Increase&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>Infer reports this issue when the execution time complexity of a
program increases in degree: e.g. from constant to linear or from
logarithmic to quadratic. This issue type is only reported in
differential mode: i.e when we are comparing the cost analysis results of
two runs of infer on a file. Check out examples in <a href="/docs/next/checker-cost#examples">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="execution_time_complexity_increase_ui_thread"></a>EXECUTION_TIME_COMPLEXITY_INCREASE_UI_THREAD<a class="hash-link" href="#execution_time_complexity_increase_ui_thread" title="Direct link to heading">#</a></h2><p>Reported as &quot;Execution Time Complexity Increase Ui Thread&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>Infer reports this issue when the execution time complexity of the procedure increases in degree <strong>and</strong> the procedure runs on the UI (main) thread.</p><p>Infer considers a method as running on the UI thread whenever:</p><ul><li>The method, one of its overrides, its class, or an ancestral class, is
annotated with <code>@UiThread</code>.</li><li>The method, or one of its overrides is annotated with <code>@OnEvent</code>, <code>@OnClick</code>,
etc.</li><li>The method or its callees call a <code>Litho.ThreadUtils</code> method such as
<code>assertMainThread</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="execution_time_unreachable_at_exit"></a>EXECUTION_TIME_UNREACHABLE_AT_EXIT<a class="hash-link" href="#execution_time_unreachable_at_exit" title="Direct link to heading">#</a></h2><p>Reported as &quot;Execution Time Unreachable At Exit&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>This issue type indicates that the program&#x27;s execution doesn&#x27;t reach
the exit node (where our analysis computes the final cost of the
procedure). Hence, we cannot compute a static bound for the procedure.</p><p>Examples:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void exit_unreachable() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  exit(0); // modeled as unreachable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void infeasible_path_unreachable() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Preconditions.checkState(false); // like assert false, state pruned to bottom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="expensive_autoreleasepool_size"></a>EXPENSIVE_AUTORELEASEPOOL_SIZE<a class="hash-link" href="#expensive_autoreleasepool_size" title="Direct link to heading">#</a></h2><p>Reported as &quot;Expensive Autoreleasepool Size&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>[EXPERIMENTAL] This warning indicates that non-constant and non-top ObjC autoreleasepool&#x27;s size in
the procedure.  By default, this issue type is disabled.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="expensive_execution_time"></a>EXPENSIVE_EXECUTION_TIME<a class="hash-link" href="#expensive_execution_time" title="Direct link to heading">#</a></h2><p>Reported as &quot;Expensive Execution Time&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>[EXPERIMENTAL] This warning indicates that the procedure has non-constant and non-top execution cost. By default, this issue type is disabled. To enable it, set <code>enabled=true</code> in <a href="https://github.com/facebook/infer/blob/main/infer/src/base/costKind.ml#L55" target="_blank" rel="noopener noreferrer">costKind.ml</a>.</p><p>For instance, a simple example where we report this issue is a function with linear cost:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">int sum_linear(ArrayList&lt;Integer&gt; list){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> int sum = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> for (Integer el: list){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   sum += el;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return sum;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="expensive_loop_invariant_call"></a>EXPENSIVE_LOOP_INVARIANT_CALL<a class="hash-link" href="#expensive_loop_invariant_call" title="Direct link to heading">#</a></h2><p>Reported as &quot;Expensive Loop Invariant Call&quot; by <a href="/docs/next/checker-loop-hoisting">loop-hoisting</a>.</p><p>We report this issue type when a function is <a href="/docs/next/all-issue-types#invariant_call">loop-invariant</a> and also expensive (i.e. at least has linear complexity as determined by the <a href="/docs/next/checker-cost">cost</a> analysis).</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">int incr(int x) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return x + 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// incr will not be hoisted since it is cheap(constant time)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void foo_linear(int size) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int x = 10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  for (int i = 0; i &lt; size; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    incr(x); // constant call, don&#x27;t hoist</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// call to foo_linear will be hoisted since it is expensive(linear in size).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void symbolic_expensive_hoist(int size) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  for (int i = 0; i &lt; size; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    foo_linear(size); // hoist</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="exposed_insecure_intent_handling"></a>EXPOSED_INSECURE_INTENT_HANDLING<a class="hash-link" href="#exposed_insecure_intent_handling" title="Direct link to heading">#</a></h2><p>Reported as &quot;Exposed Insecure Intent Handling&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Undocumented.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="global_variable_initialized_with_function_or_method_call"></a>GLOBAL_VARIABLE_INITIALIZED_WITH_FUNCTION_OR_METHOD_CALL<a class="hash-link" href="#global_variable_initialized_with_function_or_method_call" title="Direct link to heading">#</a></h2><p>Reported as &quot;Global Variable Initialized With Function Or Method Call&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>This checker warns you when the initialization of global variable contain a
method or function call. The warning wants to make you aware that some functions
are expensive. As the global variables are initialized before main() is called,
these initializations can slow down the start-up time of an app.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="guardedby_violation"></a>GUARDEDBY_VIOLATION<a class="hash-link" href="#guardedby_violation" title="Direct link to heading">#</a></h2><p>Reported as &quot;GuardedBy Violation&quot; by <a href="/docs/next/checker-racerd">racerd</a>.</p><p>A field annotated with <code>@GuardedBy</code> is being accessed by a call-chain that starts at a non-private method without synchronization.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @GuardedBy(&quot;this&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String f;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void foo(String s) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    f = s; // unprotected access here</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Action: Protect the offending access by acquiring the lock indicated by the <code>@GuardedBy(...)</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="impure_function"></a>IMPURE_FUNCTION<a class="hash-link" href="#impure_function" title="Direct link to heading">#</a></h2><p>Reported as &quot;Impure Function&quot; by <a href="/docs/next/checker-impurity">impurity</a>.</p><p>This issue type indicates impure functions. For instance, below functions would be marked as impure:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void makeAllZero_impure(ArrayList&lt;Foo&gt; list) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Iterator&lt;Foo&gt; listIterator = list.iterator();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  while (listIterator.hasNext()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Foo foo = listIterator.next();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    foo.x = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inefficient_keyset_iterator"></a>INEFFICIENT_KEYSET_ITERATOR<a class="hash-link" href="#inefficient_keyset_iterator" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inefficient Keyset Iterator&quot; by <a href="/docs/next/checker-inefficient-keyset-iterator">inefficient-keyset-iterator</a>.</p><p>This issue is raised when</p><ul><li>iterating over a HashMap with <code>ketSet()</code> iterator</li><li>looking up the key each time</li></ul><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void inefficient_loop_bad(HashMap&lt;String, Integer&gt; testMap) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> for (String key : testMap.keySet()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Integer value = testMap.get(key); // extra look-up cost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   foo(key, value);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action</strong>:</p><p>Instead, it is more efficient to iterate over the loop with <code>entrySet</code> which returns key-vaue pairs and gets rid of the hashMap lookup.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void efficient_loop_ok(HashMap&lt;String, Integer&gt; testMap) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  for (Map.Entry&lt;String, Integer&gt; entry : testMap.entrySet()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    String key = entry.getKey();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Integer value = entry.getValue();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    foo(key, value);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inferbo_alloc_is_big"></a>INFERBO_ALLOC_IS_BIG<a class="hash-link" href="#inferbo_alloc_is_big" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inferbo Alloc Is Big&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p><code>malloc</code> is passed a large constant value (&gt;=10^6). For example, <code>int n = 1000000; malloc(n);</code> generates <code>INFERBO_ALLOC_IS_BIG</code> on <code>malloc(n)</code>.</p><p>Action: Fix the size argument or make sure it is really needed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inferbo_alloc_is_negative"></a>INFERBO_ALLOC_IS_NEGATIVE<a class="hash-link" href="#inferbo_alloc_is_negative" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inferbo Alloc Is Negative&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p><code>malloc</code> is called with a negative size. For example, <code>int n = 3 - 5; malloc(n);</code> generates <code>INFERBO_ALLOC_IS_NEGATIVE</code> on <code>malloc(n)</code>.</p><p>Action: Fix the size argument.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inferbo_alloc_is_zero"></a>INFERBO_ALLOC_IS_ZERO<a class="hash-link" href="#inferbo_alloc_is_zero" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inferbo Alloc Is Zero&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p><code>malloc</code> is called with a zero size. For example, <code>int n = 3 - 3; malloc(n);</code> generates <code>INFERBO_ALLOC_IS_ZERO</code> on <code>malloc(n)</code>.</p><p>Action: Fix the size argument.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inferbo_alloc_may_be_big"></a>INFERBO_ALLOC_MAY_BE_BIG<a class="hash-link" href="#inferbo_alloc_may_be_big" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inferbo Alloc May Be Big&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p><code>malloc</code> <em>may</em> be called with a large value. For example, <code>int n = b ? 3 : 1000000; malloc(n);</code> generates <code>INFERBO_ALLOC_MAY_BE_BIG</code> on <code>malloc(n)</code>.</p><p>Action: Fix the size argument or add a bound checking, e.g. <code>if (n &lt; A_SMALL_NUMBER) { malloc(n); }</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inferbo_alloc_may_be_negative"></a>INFERBO_ALLOC_MAY_BE_NEGATIVE<a class="hash-link" href="#inferbo_alloc_may_be_negative" title="Direct link to heading">#</a></h2><p>Reported as &quot;Inferbo Alloc May Be Negative&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p><code>malloc</code> <em>may</em> be called with a negative value. For example, <code>int n = b ? 3 : -5; malloc(n);</code> generates <code>INFERBO_ALLOC_MAY_BE_NEGATIVE</code> on <code>malloc(n)</code>.</p><p>Action: Fix the size argument or add a bound checking, e.g. <code>if (n &gt; 0) { malloc(n); }</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="infinite_autoreleasepool_size"></a>INFINITE_AUTORELEASEPOOL_SIZE<a class="hash-link" href="#infinite_autoreleasepool_size" title="Direct link to heading">#</a></h2><p>Reported as &quot;Infinite Autoreleasepool Size&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>[EXPERIMENTAL] This warning indicates that Infer was not able to determine a static upper bound on
the Objective-C&#x27;s autoreleasepool size in the procedure. This issuee type is similar to <a href="#infinite_execution_time">INFINITE_EXECUTION_COST</a>, with the difference that rather than the execution cost, we account for the size of the Objective-C autoreleasepool size.</p><p>By default, this issue type is disabled.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="infinite_execution_time"></a>INFINITE_EXECUTION_TIME<a class="hash-link" href="#infinite_execution_time" title="Direct link to heading">#</a></h2><p>Reported as &quot;Infinite Execution Time&quot; by <a href="/docs/next/checker-cost">cost</a>.</p><p>This warning indicates that Infer was not able to determine a static
upper bound on the execution cost of the procedure. By default, this
issue type is disabled.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="example-1-t-due-to-expressivity"></a>Example 1: T due to expressivity<a class="hash-link" href="#example-1-t-due-to-expressivity" title="Direct link to heading">#</a></h3><p>For instance, Inferbo&#x27;s interval analysis is limited to affine
expressions. Hence, we can&#x27;t statically estimate an upper bound on the
below example and obtain T(unknown) cost:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Expected: square root(x), got T</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void square_root_FP(int x) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> int i = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> while (i * i &lt; x) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   i++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="example-2-t-due-to-unmodeled-calls"></a>Example 2: T due to unmodeled calls<a class="hash-link" href="#example-2-t-due-to-unmodeled-calls" title="Direct link to heading">#</a></h3><p>Another common case where we get T cost is when Infer cannot statically determine the range of values for loop bounds. For instance, </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void loop_over_charArray_FP(StringBuilder builder, String input) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  for (Character c : input.toCharArray()) {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Here, Infer does not have any InferBo models for the range of values returned by <code>String.toCharArray</code>, hence it cannot determine that we will be iterating over a char array in the size of <code>input</code> string.  </p><p>To teach InferBo about such library calls, they should be semantically modeled in <a href="https://github.com/facebook/infer/blob/main/infer/src/bufferoverrun/bufferOverrunModels.ml" target="_blank" rel="noopener noreferrer">InferBo</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="example-3-t-due-to-calling-another-t-costed-function"></a>Example 3: T due to calling another T-costed function<a class="hash-link" href="#example-3-t-due-to-calling-another-t-costed-function" title="Direct link to heading">#</a></h3><p>Since the analysis is inter-procedural, another example we can have T cost is if at least one of the callees has T cost.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Expected: constant, got T</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void call_top_cost_FP() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> square_root_FP(1); // square_root_FP has Top cost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="insecure_intent_handling"></a>INSECURE_INTENT_HANDLING<a class="hash-link" href="#insecure_intent_handling" title="Direct link to heading">#</a></h2><p>Reported as &quot;Insecure Intent Handling&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Undocumented.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="integer_overflow_l1"></a>INTEGER_OVERFLOW_L1<a class="hash-link" href="#integer_overflow_l1" title="Direct link to heading">#</a></h2><p>Reported as &quot;Integer Overflow L1&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>This is reported when integer overflow occurred by integer operations such as addition, subtraction,
and multiplication. For example, <code>int n = INT_MAX; int m = n + 3;</code> generates a INTEGER_OVERFLOW_L1
on <code>n + 3</code>.</p><p>Integer overflows reports fall into several &quot;buckets&quot; corresponding to the expected precision of the
report. The higher the number, the more likely it is to be a false positive.</p><ul><li><p><code>L1</code>: The most faithful report, when it <em>must</em> be unsafe.  For example,
<code>[2147483647,2147483647] + [1,1]</code> in 32-bit signed integer type.</p></li><li><p><code>L2</code>: Less faithful report than <code>L1</code>, when it <em>may</em> be unsafe.  For example,
<code>[2147483647,2147483647] + [0,1]</code> in 32-bit signed integer type.  Note that the integer of RHS
can be 0, which is safe.</p></li><li><p><code>L5</code>: The reports that are not included in the above cases.</p></li><li><p><code>U5</code>: A binary integer operation is unsafe by unknown values, which are usually from unknown
function calls.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="integer_overflow_l2"></a>INTEGER_OVERFLOW_L2<a class="hash-link" href="#integer_overflow_l2" title="Direct link to heading">#</a></h2><p>Reported as &quot;Integer Overflow L2&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#integer_overflow_l1">INTEGER_OVERFLOW_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="integer_overflow_l5"></a>INTEGER_OVERFLOW_L5<a class="hash-link" href="#integer_overflow_l5" title="Direct link to heading">#</a></h2><p>Reported as &quot;Integer Overflow L5&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#integer_overflow_l1">INTEGER_OVERFLOW_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="integer_overflow_u5"></a>INTEGER_OVERFLOW_U5<a class="hash-link" href="#integer_overflow_u5" title="Direct link to heading">#</a></h2><p>Reported as &quot;Integer Overflow U5&quot; by <a href="/docs/next/checker-bufferoverrun">bufferoverrun</a>.</p><p>See <a href="#integer_overflow_l1">INTEGER_OVERFLOW_L1</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="interface_not_thread_safe"></a>INTERFACE_NOT_THREAD_SAFE<a class="hash-link" href="#interface_not_thread_safe" title="Direct link to heading">#</a></h2><p>Reported as &quot;Interface Not Thread Safe&quot; by <a href="/docs/next/checker-racerd">racerd</a>.</p><p>This error indicates that you have invoked an interface method not annotated
with <code>@ThreadSafe</code> from a thread-safe context (e.g., code that uses locks or is
marked <code>@ThreadSafe</code>). The fix is to add the <code>@ThreadSafe</code> annotation to the
interface or to the interface method. For background on why these annotations
are needed, see the detailed explanation
<a href="/docs/next/checker-racerd#interface-not-thread-safe">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="invariant_call"></a>INVARIANT_CALL<a class="hash-link" href="#invariant_call" title="Direct link to heading">#</a></h2><p>Reported as &quot;Invariant Call&quot; by <a href="/docs/next/checker-loop-hoisting">loop-hoisting</a>.</p><p>We report this issue type when a function call is loop-invariant and hoistable, i.e.</p><ul><li>the function has no side side effects (pure)</li><li>has invariant arguments and result (i.e. have the same value in all loop iterations)</li><li>it is guaranteed to execute, i.e. it dominates all loop sources</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">int foo(int x, int y) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> return x + y;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void invariant_hoist(int size) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int x = 10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int y = 5;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int i = 0; i &lt; size; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      foo(x, y); // hoistable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="ipc_on_ui_thread"></a>IPC_ON_UI_THREAD<a class="hash-link" href="#ipc_on_ui_thread" title="Direct link to heading">#</a></h2><p>Reported as &quot;Ipc On Ui Thread&quot; by <a href="/docs/next/checker-starvation">starvation</a>.</p><p>A blocking <code>Binder</code> IPC call occurs on the UI thread.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="ivar_not_null_checked"></a>IVAR_NOT_NULL_CHECKED<a class="hash-link" href="#ivar_not_null_checked" title="Direct link to heading">#</a></h2><p>Reported as &quot;Ivar Not Null Checked&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>This error type is only reported in Objective-C. This is similar to Null
dereference, but Infer hasn&#x27;t found a whole trace where the error can happen,
but only found that a null dereference can happen if an instance variable of a
parameter is <code>nil</code>. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> foo </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      B b</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">self</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">_a foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// sending a message with receiver nil returns nil</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> b</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// dereferencing b, potential NPE if you pass nil as the argument a.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Possible solutions are adding a check for <code>nil</code>, or making sure that the method
is not called with <code>nil</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="javascript_injection"></a>JAVASCRIPT_INJECTION<a class="hash-link" href="#javascript_injection" title="Direct link to heading">#</a></h2><p>Reported as &quot;Javascript Injection&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted data flows into JavaScript.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="lab_resource_leak"></a>LAB_RESOURCE_LEAK<a class="hash-link" href="#lab_resource_leak" title="Direct link to heading">#</a></h2><p>Reported as &quot;Lab Resource Leak&quot; by <a href="/docs/next/checker-resource-leak-lab">resource-leak-lab</a>.</p><p>Toy issue.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="lockless_violation"></a>LOCKLESS_VIOLATION<a class="hash-link" href="#lockless_violation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Lockless Violation&quot; by <a href="/docs/next/checker-starvation">starvation</a>.</p><p>A method implements an interface signature annotated with <code>@Lockless</code> but which transitively acquires a lock.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Interface I {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Lockless</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public void no_lock();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class C implements I {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  private synchronized do_lock() {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void no_lock() { // this method should not acquire any locks</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    do_lock();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="lock_consistency_violation"></a>LOCK_CONSISTENCY_VIOLATION<a class="hash-link" href="#lock_consistency_violation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Lock Consistency Violation&quot; by <a href="/docs/next/checker-racerd">racerd</a>.</p><p>This is an error reported on C++ and Objective C classes whenever:</p><ul><li>Some class method directly uses locking primitives (not transitively).</li><li>It has a public method which writes to some member <code>x</code> while holding a lock.</li><li>It has a public method which reads <code>x</code> without holding a lock.</li></ul><p>The above may happen through a chain of calls. Above, <code>x</code> may also be a
container (an array, a vector, etc).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="fixing-lock-consistency-violation-reports"></a>Fixing Lock Consistency Violation reports<a class="hash-link" href="#fixing-lock-consistency-violation-reports" title="Direct link to heading">#</a></h3><ul><li>Avoid the offending access (most often the read). Of course, this may not be
possible.</li><li>Use synchronization to protect the read, by using the same lock protecting the
corresponding write.</li><li>Make the method doing the read access private. This should silence the
warning, since Infer looks for a pair of non-private methods. Objective-C:
Infer considers a method as private if it&#x27;s not exported in the header-file
interface.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="logging_private_data"></a>LOGGING_PRIVATE_DATA<a class="hash-link" href="#logging_private_data" title="Direct link to heading">#</a></h2><p>Reported as &quot;Logging Private Data&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Undocumented.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="memory_leak"></a>MEMORY_LEAK<a class="hash-link" href="#memory_leak" title="Direct link to heading">#</a></h2><p>Reported as &quot;Memory Leak&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="memory-leak-in-c"></a>Memory leak in C<a class="hash-link" href="#memory-leak-in-c" title="Direct link to heading">#</a></h3><p>This error type is only reported in C and Objective-C code. In Java we do not
report memory leaks because it is a garbage collected language.</p><p>In C, Infer reports memory leaks when objects are created with <code>malloc</code> and not
freed. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI c"><div tabindex="0" class="prism-code language-c codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> memory_leak_bug </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">p </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">malloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="memory-leak-in-objective-c"></a>Memory leak in Objective-C<a class="hash-link" href="#memory-leak-in-objective-c" title="Direct link to heading">#</a></h3><p>Additionally, in Objective-C, Infer reports memory leaks that happen when
objects from Core Foundation or Core Graphics don&#x27;t get released.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> memory_leak_bug_cf </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    CGPathRef shadowPath </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">CGPathCreateWithRect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">inputView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">bounds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//object created and not released.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="missing_required_prop"></a>MISSING_REQUIRED_PROP<a class="hash-link" href="#missing_required_prop" title="Direct link to heading">#</a></h2><p>Reported as &quot;Missing Required Prop&quot; by <a href="/docs/next/checker-litho-required-props">litho-required-props</a>.</p><p>This issues is reported when a required <code>@Prop</code> is missing.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><p>Assume that the following Litho Component specification is defined as follows where <code>prop1</code> is optional and <code>prop2</code> is required.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class MyComponentSpec {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  static void onCreate(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ComponentContext c,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      @Prop(optional = true) String prop1, @Prop int prop2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>When we build the corresponding component, we should have all the required props. If we are missing optional props (e..g <code>prop1</code> below), it is ok.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">MyComponent.create(c)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .prop2(8)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>However, if we are missing a required prop, Infer gives an error below for the missing <code>prop2</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">MyComponent.create(c)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .prop1(&quot;My prop 1&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong> Action </strong></p><p>There are two ways to fix this issue.</p><p>First, we could add the missing <code>prop2</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">MyComponent.create(c)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .prop1(&quot;My prop 1&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .prop2(x) // where x is some integer</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>or alternatively, if the <code>prop2</code> is not really required, we could change the component spec to reflect that:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class MyComponentSpec {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  static void onCreate(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ComponentContext c,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      @Prop(optional = true) String prop1, @Prop(optional = true) int prop2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="mixed_self_weakself"></a>MIXED_SELF_WEAKSELF<a class="hash-link" href="#mixed_self_weakself" title="Direct link to heading">#</a></h2><p>Reported as &quot;Mixed Self WeakSelf&quot; by <a href="/docs/next/checker-self-in-block">self-in-block</a>.</p><p>This check reports an issue when an Objective-C block captures both <code>self</code> and <code>weakSelf</code>, a weak pointer to <code>self</code>.
Possibly the developer meant to capture only <code>weakSelf</code> to avoid a retain cycle, but made a typo and used <code>self</code>
instead of <code>strongSelf</code>. In this case, this could cause a retain cycle.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">strongSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">strongSelf foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// typo here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action</strong>: Fixing the typo is generally the right course of action.</p><p><em>Limitations:</em> To keep this check simple and intra-procedural, we rely on names to find <code>weakSelf</code>:
we assume that any captured weak pointer whose name contains &quot;self&quot; is a weak reference to <code>self</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="modifies_immutable"></a>MODIFIES_IMMUTABLE<a class="hash-link" href="#modifies_immutable" title="Direct link to heading">#</a></h2><p>Reported as &quot;Modifies Immutable&quot; by <a href="/docs/next/checker-impurity">impurity</a>.</p><p>This issue type indicates modifications to fields marked as @Immutable. For instance, below function <code>mutateArray</code> would be marked as modifying immutable field <code>testArray</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @Immutable int[] testArray = new int[]{0, 1, 2, 4};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int[] getTestArray() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return testArray;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void mutateArray() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int[] array = getTestArray();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    array[2] = 7;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="multiple_weakself"></a>MULTIPLE_WEAKSELF<a class="hash-link" href="#multiple_weakself" title="Direct link to heading">#</a></h2><p>Reported as &quot;Multiple WeakSelf Use&quot; by <a href="/docs/next/checker-self-in-block">self-in-block</a>.</p><p>This check reports when an Objective-C block uses <code>weakSelf</code> (a weak pointer to <code>self</code>) more than once.
This could lead to unexpected behaviour. Even if <code>weakSelf</code> is not nil in the first use, it could be nil
in the following uses since the object that <code>weakSelf</code> points to could be freed anytime.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">weakSelf foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action:</strong>
One should assign <code>weakSelf</code> to a strong pointer first, and then
use it in the block.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">strongSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">strongSelf foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> strongSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><em>Limitations:</em> To keep this check simple and intra-procedural, we rely on names to find <code>weakSelf</code>:
we assume that any captured weak pointer whose name contains &quot;self&quot; is a weak reference to <code>self</code>.
In contrast, <code>strongSelf</code> is a local variable to the block, so the check supports any name given to
a local strong pointer that has been assigned <code>weakSelf</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="mutable_local_variable_in_component_file"></a>MUTABLE_LOCAL_VARIABLE_IN_COMPONENT_FILE<a class="hash-link" href="#mutable_local_variable_in_component_file" title="Direct link to heading">#</a></h2><p>Reported as &quot;Mutable Local Variable In Component File&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p><a href="http://componentkit.org/docs/avoid-local-variables" target="_blank" rel="noopener noreferrer">Doc in ComponentKit page</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nil_block_call"></a>NIL_BLOCK_CALL<a class="hash-link" href="#nil_block_call" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nil Block Call&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>This check reports when one tries to call an Objective-C block that is <code>nil</code>.
This causes a crash.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">callback </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">callback</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> bar </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">self</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//crash</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action</strong>:</p><p>Adding a check for <code>nil</code> before calling the block, or making sure never to call the method <code>foo:</code> with <code>nil</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nil_block_call_latent"></a>NIL_BLOCK_CALL_LATENT<a class="hash-link" href="#nil_block_call_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nil Block Call Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#nil_block_call">NIL_BLOCK_CALL</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nil_insertion_into_collection"></a>NIL_INSERTION_INTO_COLLECTION<a class="hash-link" href="#nil_insertion_into_collection" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nil Insertion Into Collection&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>This checks reports when <code>nil</code> is passed to collections in Objective-C such as arrays and dictionaries. This causes a crash.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="arrays"></a>Arrays<a class="hash-link" href="#arrays" title="Direct link to heading">#</a></h3><p>Adding objects to an array, inserting objects at a given index, or replacing objects at a given index, can all
lead to a crash when the object is <code>nil</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">mArray addObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//crash</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">mArray insertObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">nil atIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//crash</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">mArray replaceObjectAtIndex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> withObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//crash</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="dictionaries"></a>Dictionaries<a class="hash-link" href="#dictionaries" title="Direct link to heading">#</a></h3><p>Adding a <code>nil</code> value in a dictionary causes a crash. If the concept of <code>nil</code> is required, one can add
<code>[NSNull null]</code> instead.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">mDict setObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">value forKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;somestring&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//crash</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">mDict setObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">NSNull null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> forKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;somestring&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//ok</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Retrieving or removing an object from a dictionary with a <code>nil</code> key also causes a crash:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mDict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;somestring&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//crash</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">mDict removeObjectForKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//crash</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action</strong>:</p><p>In all the cases above, when passing <code>nil</code> causes a crash, the solutions are either making sure
that the object passed will never be <code>nil</code>, or adding a check for <code>nil</code> before calling those methods.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nil_insertion_into_collection_latent"></a>NIL_INSERTION_INTO_COLLECTION_LATENT<a class="hash-link" href="#nil_insertion_into_collection_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nil Insertion Into Collection Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#nil_insertion_into_collection">NIL_INSERTION_INTO_COLLECTION</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nil_messaging_to_non_pod"></a>NIL_MESSAGING_TO_NON_POD<a class="hash-link" href="#nil_messaging_to_non_pod" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nil Messaging To Non Pod&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>In Objective-C, calling a method on <code>nil</code> (or in Objective-C terms, sending a message to <code>nil</code>) does not crash,
it simply returns a falsy value (nil/0/false). However, sending a message that returns
a non-POD C++ type (POD being <a href="https://en.cppreference.com/w/cpp/named_req/PODType" target="_blank" rel="noopener noreferrer">&quot;Plain Old Data&quot;</a>, essentially
anything that cannot be compiled as a C-style struct) to <code>nil</code> causes undefined behaviour.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">shared_ptr</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">callMethodReturnsnonPOD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  SomeObject</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getObjectOrNil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  std</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">shared_ptr</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> d </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">obj returnsnonPOD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// UB</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To fix the above issue, we need to check if <code>obj</code> is
not <code>nil</code> before calling the <code>returnsnonPOD</code> method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">shared_ptr</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">callMethodReturnsnonPOD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">bool b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  SomeObject</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getObjectOrNil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> std</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">make_shared</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  std</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">shared_ptr</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> d </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">obj returnsnonPOD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nil_messaging_to_non_pod_latent"></a>NIL_MESSAGING_TO_NON_POD_LATENT<a class="hash-link" href="#nil_messaging_to_non_pod_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Nil Messaging To Non Pod Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#nil_messaging_to_non_pod">NIL_MESSAGING_TO_NON_POD</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_matching_branch_in_try"></a>NO_MATCHING_BRANCH_IN_TRY<a class="hash-link" href="#no_matching_branch_in_try" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Matching Branch In Try&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>No matching branch is found when evaluating the <code>of</code> section of a <code>try</code> expression. Corresponds to the <code>{try_clause,V}</code> error in the Erlang runtime.</p><p>For example, if we call <code>tail([])</code> and the full definition of <code>tail</code> is</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI erlang"><div tabindex="0" class="prism-code language-erlang codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tail(X) -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    try X of</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [_|T] -&gt; {ok,T}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    catch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        _ -&gt; error</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_matching_branch_in_try_latent"></a>NO_MATCHING_BRANCH_IN_TRY_LATENT<a class="hash-link" href="#no_matching_branch_in_try_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Matching Branch In Try Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#no_matching_branch_in_try">NO_MATCHING_BRANCH_IN_TRY</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_matching_case_clause"></a>NO_MATCHING_CASE_CLAUSE<a class="hash-link" href="#no_matching_case_clause" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Matching Case Clause&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>No matching case clause in Erlang: Reports an error when none of the clauses of a <code>case</code> match the expression. Corresponds to the <code>{case_clause,V}</code> error in the Erlang runtime.</p><p>For example, if we call <code>tail([])</code> and the full definition of <code>tail</code> is</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI erlang"><div tabindex="0" class="prism-code language-erlang codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tail(X) -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case X of</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [_|T] -&gt; T</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This error is reported if either the pattern(s) or the guard(s) prevent matching any of the clauses.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_matching_case_clause_latent"></a>NO_MATCHING_CASE_CLAUSE_LATENT<a class="hash-link" href="#no_matching_case_clause_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Matching Case Clause Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#no_matching_case_clause">NO_MATCHING_CASE_CLAUSE</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_matching_function_clause"></a>NO_MATCHING_FUNCTION_CLAUSE<a class="hash-link" href="#no_matching_function_clause" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Matching Function Clause&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>No matching function clause in Erlang: Reports an error when none of the clauses of a function match the arguments of a call. Corresponds to the <code>function_clause</code> error in the Erlang runtime.</p><p>For example, if we call <code>tail([])</code> and the full definition of <code>tail</code> is</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI erlang"><div tabindex="0" class="prism-code language-erlang codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tail([_|Xs]) -&gt; Xs.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This error is reported if either the pattern(s) or the guard(s) prevent matching any of the clauses.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_matching_function_clause_latent"></a>NO_MATCHING_FUNCTION_CLAUSE_LATENT<a class="hash-link" href="#no_matching_function_clause_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Matching Function Clause Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#no_matching_function_clause">NO_MATCHING_FUNCTION_CLAUSE</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_match_of_rhs"></a>NO_MATCH_OF_RHS<a class="hash-link" href="#no_match_of_rhs" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Match Of Rhs&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>No match of right hand side value in Erlang: Reports an error when the right hand side value of a <code>match</code> expression does not match the pattern on the left hand side. Corresponds to the <code>{badmatch,V}</code> error in the Erlang runtime.</p><p>For example, <code>[H|T] = []</code> gives the error because the left hand side pattern requires at least one element in the list on the right hand side.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_match_of_rhs_latent"></a>NO_MATCH_OF_RHS_LATENT<a class="hash-link" href="#no_match_of_rhs_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;No Match Of Rhs Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#no_match_of_rhs">NO_MATCH_OF_RHS</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_true_branch_in_if"></a>NO_TRUE_BRANCH_IN_IF<a class="hash-link" href="#no_true_branch_in_if" title="Direct link to heading">#</a></h2><p>Reported as &quot;No True Branch In If&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>No true branch when evaluating an if expression in Erlang: Reports an error when none of the branches of an <code>if</code> expression evaluate to true. Corresponds to the <code>if_clause</code> error in the Erlang runtime.</p><p>For example, if we call <code>sign(0)</code> and the full definition of <code>sign</code> is</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI erlang"><div tabindex="0" class="prism-code language-erlang codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sign(X) -&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        X &gt; 0 -&gt; positive;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        X &lt; 0 -&gt; negative</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="no_true_branch_in_if_latent"></a>NO_TRUE_BRANCH_IN_IF_LATENT<a class="hash-link" href="#no_true_branch_in_if_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;No True Branch In If Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#no_true_branch_in_if">NO_TRUE_BRANCH_IN_IF</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nullptr_dereference"></a>NULLPTR_DEREFERENCE<a class="hash-link" href="#nullptr_dereference" title="Direct link to heading">#</a></h2><p>Reported as &quot;Null Dereference&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>Infer reports null dereference bugs in Java, C, C++, and Objective-C
when it is possible that the null pointer is dereferenced, leading to
a crash.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="null-dereference-in-java"></a>Null dereference in Java<a class="hash-link" href="#null-dereference-in-java" title="Direct link to heading">#</a></h3><p>Many of Infer&#x27;s reports of potential Null Pointer Exceptions (NPE) come from code of the form</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  p = foo(); // foo() might return null</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  stuff();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  p.goo();   // dereferencing p, potential NPE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If you see code of this form, then you have several options.</p><p><strong>If you are unsure whether or not <code>foo()</code> will return null</strong>, you should
ideally either</p><ol><li><p>Change the code to ensure that <code>foo()</code> can not return null, or</p></li><li><p>Add a check that <code>p</code> is not <code>null</code> before dereferencing <code>p</code>.</p></li></ol><p>Sometimes, in case (2) it is not obvious what you should do when <code>p</code>
is <code>null</code>. One possibility is to throw an exception, failing early but
explicitly. This can be done using <code>checkNotNull</code> as in the following
code:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// code idiom for failing early</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import static com.google.common.base.Preconditions.checkNotNull;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  //... intervening code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  p = checkNotNull(foo()); // foo() might return null</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  stuff();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  p.goo(); // p cannot be null here</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The call <code>checkNotNull(foo())</code> will never return <code>null</code>: if <code>foo()</code>
returns <code>null</code> then it fails early by throwing a Null Pointer
Exception.</p><p>Facebook NOTE: <strong>If you are absolutely sure that foo() will not be
null</strong>, then if you land your diff this case will no longer be
reported after your diff makes it to trunk.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="null-dereference-in-c"></a>Null dereference in C<a class="hash-link" href="#null-dereference-in-c" title="Direct link to heading">#</a></h3><p>Here is an example of an inter-procedural null dereference bug in C:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI c"><div tabindex="0" class="prism-code language-c codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> height</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> weight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">get_age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">who</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> who</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">null_pointer_interproc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">joe </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">get_age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">joe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="null-dereference-in-objective-c"></a>Null dereference in Objective-C<a class="hash-link" href="#null-dereference-in-objective-c" title="Direct link to heading">#</a></h3><p>In Objective-C, null dereferences are less common than in Java, but they still
happen and their cause can be hidden. In general, passing a message to nil does
not cause a crash and returns <code>nil</code>, but dereferencing a pointer directly does
cause a crash.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">C</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> param </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// passing nil</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  D</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> d </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">param bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// nil message passing</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> d</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">fld</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// crash</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> callFoo </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  C</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> c </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">self</span><span class="token plain"> bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// returns nil</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">              </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// crash reported here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action</strong>:
Adding a <code>nil</code> check either for <code>param</code> above or for <code>d</code>, or making sure that <code>foo:</code> will never
be called with <code>nil</code>.</p><p>Calling a <code>nil</code> block will also cause a crash.
We have a dedicated issue type for this case: <a href="/docs/next/all-issue-types#nil_block_call">Nil Block Call</a>.</p><p>Moreover, inserting <code>nil</code> into a collection will cause a crash as well. We
also have a dedicated issue type for this case:
<a href="/docs/next/all-issue-types#nil_insertion_into_collection">Nil Insertion Into Collection</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nullptr_dereference_latent"></a>NULLPTR_DEREFERENCE_LATENT<a class="hash-link" href="#nullptr_dereference_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Null Dereference&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#nullptr_dereference">NULLPTR_DEREFERENCE</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="null_dereference"></a>NULL_DEREFERENCE<a class="hash-link" href="#null_dereference" title="Direct link to heading">#</a></h2><p>Reported as &quot;Null Dereference&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>See <a href="#nullptr_dereference">NULLPTR_DEREFERENCE</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="optional_empty_access"></a>OPTIONAL_EMPTY_ACCESS<a class="hash-link" href="#optional_empty_access" title="Direct link to heading">#</a></h2><p>Reported as &quot;Optional Empty Access&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>Optional Empty Access warnings are reported when we try to retrieve the value of a <a href="https://github.com/facebook/folly/blob/master/folly/Optional.h" target="_blank" rel="noopener noreferrer"><code>folly::Optional</code></a> when it is empty (i.e. <code>folly::none</code>).</p><p>In the following example we get a warning as <code>int_opt</code> might be <code>folly::none</code> and its value is being accessed:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">somef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Optional</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mightReturnNone</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">somef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">Optional</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">value_no_check</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Optional</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> int_opt </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mightReturnNone</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> int_opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Optional Empty Access warning</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>We do not get the warning anymore if we add a check whether <code>int_opt</code> is not empty:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">value_check</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Optional</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> int_opt </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mightReturnNone</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">int_opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">has_value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> int_opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// OK</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In some cases we know that we have a non-empty value and there is no need to have a check. Consider the following example where Infer does not warn:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">somef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> v </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Optional</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mightReturnNone</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">somef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">Optional</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">value_no_check</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  folly</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Optional</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> int_opt </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mightReturnNone</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// cannot be folly::none</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> int_opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// OK</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="optional_empty_access_latent"></a>OPTIONAL_EMPTY_ACCESS_LATENT<a class="hash-link" href="#optional_empty_access_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Optional Empty Access Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#optional_empty_access">OPTIONAL_EMPTY_ACCESS</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="parameter_not_null_checked"></a>PARAMETER_NOT_NULL_CHECKED<a class="hash-link" href="#parameter_not_null_checked" title="Direct link to heading">#</a></h2><p>Reported as &quot;Parameter Not Null Checked&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>This error type is reported only in Objective-C. It is similar to Null
dereference, but Infer hasn&#x27;t found a whole trace where the error can happen,
but only found that a null dereference can happen if you call a method with nil
as an argument. Therefore it is only a warning. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">A</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      B b</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">a foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// sending a message with receiver nil returns nil</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> b</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// dereferencing b, potential NPE if you pass nil as the argument a.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>or when the parameter is a block:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BOOL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">block </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// calling a nil block will cause a crash.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Possible solutions are adding a check for <code>nil</code>, or making sure that the method
is not called with <code>nil</code>. When an argument will never be <code>nil</code>, you can add the
annotation <code>nonnull</code> to the argument&#x27;s type, to tell Infer (and the type
system), that the argument won&#x27;t be <code>nil</code>. This will silence the warning.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pointer_to_const_objc_class"></a>POINTER_TO_CONST_OBJC_CLASS<a class="hash-link" href="#pointer_to_const_objc_class" title="Direct link to heading">#</a></h2><p>Reported as &quot;Pointer To Const Objc Class&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>In Objective-C, <code>const Class *</code> represents a mutable pointer pointing to an
Objective-C class where the ivars cannot be changed. More useful is
<code>Class *const</code> instead, meaning the destination of the pointer cannot be
changed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="premature_nil_termination_argument"></a>PREMATURE_NIL_TERMINATION_ARGUMENT<a class="hash-link" href="#premature_nil_termination_argument" title="Direct link to heading">#</a></h2><p>Reported as &quot;Premature Nil Termination Argument&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>This error type is reported in C and Objective-C. In many variadic methods,
<code>nil</code> is used to signify the end of the list of input objects. This is similar
to nil-termination of C strings. If one of the arguments that is not the last
argument to the method is <code>nil</code> as well, Infer reports an error because that may
lead to unexpected behavior.</p><p>An example of such variadic methods is
<a href="https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/index.html#//apple_ref/occ/clm/NSArray/arrayWithObjects" target="_blank" rel="noopener noreferrer">arrayWithObjects</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  NSArray </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">foo </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">NSArray arrayWithObjects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;aaa&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;bbb&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this example, if <code>str</code> is <code>nil</code> then an array <code>@[@&quot;aaa&quot;]</code> of size 1 will be
created, and not an array <code>@[@&quot;aaa&quot;, str, @&quot;bbb&quot;]</code> of size 3 as expected.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pulse_resource_leak"></a>PULSE_RESOURCE_LEAK<a class="hash-link" href="#pulse_resource_leak" title="Direct link to heading">#</a></h2><p>Reported as &quot;Pulse Resource Leak&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>See <a href="#resource_leak">RESOURCE_LEAK</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pulse_uninitialized_value"></a>PULSE_UNINITIALIZED_VALUE<a class="hash-link" href="#pulse_uninitialized_value" title="Direct link to heading">#</a></h2><p>Reported as &quot;Uninitialized Value&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>See <a href="#uninitialized_value">UNINITIALIZED_VALUE</a>. Re-implemented using Pulse.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pulse_uninitialized_value_latent"></a>PULSE_UNINITIALIZED_VALUE_LATENT<a class="hash-link" href="#pulse_uninitialized_value_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Uninitialized Value&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#pulse_uninitialized_value">PULSE_UNINITIALIZED_VALUE</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pulse_unnecessary_copy"></a>PULSE_UNNECESSARY_COPY<a class="hash-link" href="#pulse_unnecessary_copy" title="Direct link to heading">#</a></h2><p>Reported as &quot;Unnecessary Copy&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>This is reported when Infer detects an unnecessary copy of an object via copy constructor where neither the source nor the copied variable are modified before the variable goes out of scope. Rather than the copy, a reference to the source object could be used to save memory.</p><p>For example,</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">A</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">unnecessary_copy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">A</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// calls copy constructor</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// y is not modified after copy, hence we could avoid the copy by adding &amp; after auto as below</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">use_reference_instead</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">A</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">auto</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// copy the ref only</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pure_function"></a>PURE_FUNCTION<a class="hash-link" href="#pure_function" title="Direct link to heading">#</a></h2><p>Reported as &quot;Pure Function&quot; by <a href="/docs/next/checker-purity">purity</a>.</p><p>This issue type indicates pure functions. For instance, below functions would be marked as pure:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">int local_write_pure(int x, int y) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int k = x + y;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  k++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return k;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// no change to outside state, the local allocation is ok.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int local_alloc_pure(ArrayList&lt;Integer&gt; list) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ArrayList&lt;Integer&gt; list_new = new ArrayList&lt;Integer&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  for (Integer el : list) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    list_new.add(el);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return list_new.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>However, the following ones would not be pure:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void swap_impure(int[] array, int i, int j) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int tmp = array[i];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  array[i] = array[j]; // modifying the input array</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  array[j] = tmp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int a = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void set_impure(int x, int y) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  a = x + y; //modifying a global variable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quandary_taint_error"></a>QUANDARY_TAINT_ERROR<a class="hash-link" href="#quandary_taint_error" title="Direct link to heading">#</a></h2><p>Reported as &quot;Taint Error&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Generic taint error when nothing else fits.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="regex_op_on_ui_thread"></a>REGEX_OP_ON_UI_THREAD<a class="hash-link" href="#regex_op_on_ui_thread" title="Direct link to heading">#</a></h2><p>Reported as &quot;Regex Op On Ui Thread&quot; by <a href="/docs/next/checker-starvation">starvation</a>.</p><p>A potentially costly operation on a regular expression occurs on the UI thread.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="resource_leak"></a>RESOURCE_LEAK<a class="hash-link" href="#resource_leak" title="Direct link to heading">#</a></h2><p>Reported as &quot;Resource Leak&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>Infer reports resource leaks in C, Objective-C and Java. In general, resources
are entities such as files, sockets, connections, etc, that need to be closed
after being used.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="resource-leak-in-c"></a>Resource leak in C<a class="hash-link" href="#resource-leak-in-c" title="Direct link to heading">#</a></h3><p>This is an example of a resource leak in C code:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI c"><div tabindex="0" class="prism-code language-c codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> resource_leak_bug </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fp</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token function" style="color:rgb(130, 170, 255)">fopen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;c:\\test.txt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;r&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// file opened and not closed.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="resource-leak-in-java"></a>Resource leak in Java<a class="hash-link" href="#resource-leak-in-java" title="Direct link to heading">#</a></h3><p>For the remaining of this section, we will consider examples of resource leaks
in Java code.</p><p>TIP: A common source of bugs is <b>exceptions skipping past close()
statements</b>. That is the first thing to look for if INFER reports a potential
resource leak.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="basics-and-standard-idiom"></a>Basics and Standard Idiom<a class="hash-link" href="#basics-and-standard-idiom" title="Direct link to heading">#</a></h3><p>Some objects in Java, the <i>resources</i>, are supposed to be closed when you
stop using them, and failure to close is a <i>resource leak</i>. Resources
include input streams, output streams, readers, writers, sockets, http
connections, cursors, and json parsers.</p><p>The standard idiom is</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // Standard idiom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Allocate resource</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    do some stuff</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  } finally {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    close resource</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>or more for example,</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  //  Standard Idiom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public static void foo () throws IOException{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FileOutputStream fos = new FileOutputStream(new File(&quot;whatever.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fos.write(7);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } finally {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fos.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>and you should use the standard idiom for the most part, when you don&#x27;t want to
return the resource to the surrounding context.</p><p>Sometimes people just leave out close(), and that is a bug, but more typically
exceptional paths are the root of the problem, as in</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // leak because of exception</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public static void foo () throws IOException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FileOutputStream fos = new FileOutputStream(new File(&quot;whatever.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fos.write(7);   //DOH! What if exception?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fos.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>where an exception in fos.write will cause execution to skip past the close()
statement.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="multiple-resources-bugs"></a>Multiple Resources Bugs<a class="hash-link" href="#multiple-resources-bugs" title="Direct link to heading">#</a></h4><p>We can deal with multiple resources correctly and simply just by nesting the
standard idiom.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // Two Resources nested</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public static void foo() throws IOException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FileInputStream fis = new FileInputStream(new File(&quot;whatever.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      FileOutputStream fos = new FileOutputStream(new File(&quot;everwhat.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fos.write(fis.read());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      } finally {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fos.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } finally {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fis.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Bugs often occur when using multiple resources in other ways because of
exceptions in close() methods. For example,</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // Classic Two Resources Bug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public static void foo() throws IOException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FileInputStream fis = null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FileOutputStream fos = null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fis = new FileInputStream(new File(&quot;whatever.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fos = new FileOutputStream(new File(&quot;everwhat.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fos.write(fis.read());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } finally {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (fis!=null)  fis.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (fos!=null) fos.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Here, if there is an exception in the call to fis.close() execution will skip
past fos.close(); a leak.</p><p>Another way, besides the standard idiom, to deal with this problem is to swallow
exceptions.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // Two Resources Fix 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public static void foo() throws IOException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FileInputStream fis = null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FileOutputStream fos = null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fis = new FileInputStream(new File(&quot;whatever.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fos = new FileOutputStream(new File(&quot;everwhat.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fos.write(fis.read());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } finally {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (fis!=null) fis.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      } catch (Exception e) {};  // Exception swallowing</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (fos!=null) fos.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>You can also swallow the exception on the output stream. Some people prefer not
to swallow output stream exceptions, and also flush before closing.
<a href="http://code.google.com/p/guava-libraries/issues/detail?id=1118" target="_blank" rel="noopener noreferrer">http://code.google.com/p/guava-libraries/issues/detail?id=1118</a></p><p>Notice that the nested standard idiom does not need the checks for null, which
are in there in this case to protect against the case when one of the
allocations throws an exception, in which case one would get a
NullPointerException.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nested_allocations"></a>Nested_Allocations<a class="hash-link" href="#nested_allocations" title="Direct link to heading">#</a></h3><p>When a resource allocation is included as an argument to a constructor, if the
constructor fails it can leave an an unreachable resource that no one can close.</p><p>For example gzipOutputStream = new GZIPOutputStream(new FileOutputStream(out));
is bad in case the outer constructor, GZIPOutputStream, throws an exception. In
that case, no one will have a hold of the FileOutputStream and so no one will be
able to close it.</p><p>In such a case you need to move the allocation the FileOutputStream out of the
nested position and name it, so you are able to close if anything goes wrong
during execution of the GZIPOutputStream constructor.</p><p>Here are resources that can throw exceptions i their constructor(s).</p><ul><li>ObjectInputStream , ObjectOutputStream, PipedInputStream, PipedOutputStream,
PipedReader, PipedWriter, JarInputStream, JarOutputStream, GZIPInputStream,
GZIPOutputStream , ZipFile all throw IOException</li><li>PrintStream throws UnsupportedEncodingException</li></ul><p>The constructors for FileInputStream, FileOutputStream and RandomAccessFile
throw FileNotFoundException, but these cases are not problematic in the sense
that their arguments are not resources and so they do not cause the nested
resource leak.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="allocation-of-jsonparser-and-cursor-resources"></a>Allocation of JSonParser and Cursor resources<a class="hash-link" href="#allocation-of-jsonparser-and-cursor-resources" title="Direct link to heading">#</a></h3><p>Some resources are created inside libraries instead of by &quot;new&quot;.</p><p>Cursor is an interface, the actual resources are something like SQLiteCursor.
So, every time you call a function that returns a Cursor object, there is an
allocation.</p><p>For instance, in the functions from SQLiteDatabase query(â€¦) and rawQuery(â€¦)
allocate a cursor resource. For SQLiteQueryBuilder, ContentProviderClient,
ContentResolver. MediaStore and DownloadManager it is only query(â€¦) Cursor
objects cursor created by these functions need to be closed (i.e.,
cursor.close()).</p><p>Similarly, JsonParser is an abstract class, and create a resource in functions
from the class JsonFactory createParser(byte[] data) createParser(byte[] data,
int offset, int len) createParser(String content) createParser(URL url)
createParser(File f) JsonParser objects js created by these functions need to be
closed (jp.close()). On the other hand . JasonParsers gotten from
createParser(InputStream in) and createParser(Reader r) give you JsonParsers
that donâ€™t need to be closed. This is because they receive the resource from
somewhere that will maintain the responsibility to close it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="escaping-resources-and-exceptions"></a>Escaping resources and exceptions<a class="hash-link" href="#escaping-resources-and-exceptions" title="Direct link to heading">#</a></h3><p>Sometimes you want to return a resource to the outside, in which case you should
not close it, but you still need to be careful of exceptions in case control
skips past the return leaving no one to close. Here is a simple example of a
positive use of escaping resources.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // An escaping resource, shouldn&#x27;t close</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public BugReportAttachment createAttachment(File reportDirectory, String fileName)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      throws FileNotFoundException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    File file = new File(reportDirectory, fileName);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    OutputStream stream = new FileOutputStream(file);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return new BugReportAttachment(Uri.fromFile(file), stream);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this case it is intended that an object that wraps <code>stream</code> is passed to the
caller of <code>createAttachment</code>. You should certainly not close stream here,
because it is being passed to the outside.</p><p>But for escaping resources like this you still need to be careful of exceptions.
For example, in</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // An escaping resource, and a leak</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public BugReportAttachment createAttachment(File reportDirectory, String fileName)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      throws FileNotFoundException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    File file = new File(reportDirectory, fileName);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    OutputStream stream = new FileOutputStream(file);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    stream.write(7);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return new BugReportAttachment(Uri.fromFile(file), stream);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>if stream.write(7) throws an exception, then no one will have a hold of stream,
and no one will be able to close it; a leak.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="java-7s-try-with-resources"></a>Java 7&#x27;s try-with-resources<a class="hash-link" href="#java-7s-try-with-resources" title="Direct link to heading">#</a></h3><p><strong>(For use with Java 7 only)</strong></p><p>Clearly, accounting for the ramifications of all the exceptional cases is
complicated, and there is a better way in Java 7.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // Two Resources Fix 2; via try-with-resources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public static void foo() throws IOException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    try (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      FileInputStream fis = new FileInputStream(new File(&quot;whatever.txt&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      FileOutputStream fos = new FileOutputStream(new File(&quot;everwhat.txt&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      fos.write(fis.read());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All the complicated exceptional cases above are (apparently) covered by this
construct, and the result is much simpler.</p><p>So, if you are trying to fix a potential leak in code with multiples resources
you can go ahead and try to understand whether the potential leak is real. Or,
if the code is complex and it is hard to figure out, it would be perfectly
legitimate to simply convert the code over to try-with-resources if you have
access to Java 7, so as to save yourself some brain-cycles. You will also end up
with cleaner code.</p><p>If try-with-resources is so great you should <i>always</i> use it. But you
shouldn&#x27;tâ€¦ Try-with-resources gives resources static scoping, and works via a
stack discipline. Sometimes, you want a resource to persist beyond scope, as in
the escaping example above. In an escaping example maybe you could refactor lots
of code so that try-with-resources applies, and maybe you cannot in a sensible
way. This just illustrates that, though you might hear people say that
try-with-resources &quot;solves&quot; the resource problem, it does not. It is very
useful, but you cannot use it blindly when you see a resource-allocation site.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="retain_cycle"></a>RETAIN_CYCLE<a class="hash-link" href="#retain_cycle" title="Direct link to heading">#</a></h2><p>Reported as &quot;Retain Cycle&quot; by <a href="/docs/next/checker-biabduction">biabduction</a>.</p><p>A retain cycle is a situation when object A retains object B, and object B
retains object A at the same time. Here is an example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">@class</span><span class="token plain"> Child</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@interface</span><span class="token plain"> Parent </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NSObject </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Child </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">child</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Instance variables are implicitly __strong</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@interface</span><span class="token plain"> Child </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NSObject </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Parent </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">parent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>You can fix a retain cycle in ARC by using __weak variables or weak properties
for your &quot;back links&quot;, i.e. links to direct or indirect parents in an object
hierarchy:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">@class</span><span class="token plain"> Child</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@interface</span><span class="token plain"> Parent </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NSObject </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Child </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">child</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@interface</span><span class="token plain"> Child </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NSObject </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __weak Parent </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">parent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="shell_injection"></a>SHELL_INJECTION<a class="hash-link" href="#shell_injection" title="Direct link to heading">#</a></h2><p>Reported as &quot;Shell Injection&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Environment variable or file data flowing to shell.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="shell_injection_risk"></a>SHELL_INJECTION_RISK<a class="hash-link" href="#shell_injection_risk" title="Direct link to heading">#</a></h2><p>Reported as &quot;Shell Injection Risk&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Code injection if the caller of the endpoint doesn&#x27;t sanitize on its end.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sql_injection"></a>SQL_INJECTION<a class="hash-link" href="#sql_injection" title="Direct link to heading">#</a></h2><p>Reported as &quot;Sql Injection&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted and unescaped data flows to SQL.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sql_injection_risk"></a>SQL_INJECTION_RISK<a class="hash-link" href="#sql_injection_risk" title="Direct link to heading">#</a></h2><p>Reported as &quot;Sql Injection Risk&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted and unescaped data flows to SQL.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="stack_variable_address_escape"></a>STACK_VARIABLE_ADDRESS_ESCAPE<a class="hash-link" href="#stack_variable_address_escape" title="Direct link to heading">#</a></h2><p>Reported as &quot;Stack Variable Address Escape&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>Reported when an address pointing into the stack of the current
function will escape to its calling context. Such addresses will
become invalid by the time the function actually returns so are
potentially dangerous.</p><p>For example, directly returning a pointer to a local variable:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI C"><div tabindex="0" class="prism-code language-C codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">int* foo() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   int x = 42;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   return &amp;x; // &lt;-- warn here that &quot;&amp;x&quot; will escape</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="starvation"></a>STARVATION<a class="hash-link" href="#starvation" title="Direct link to heading">#</a></h2><p>Reported as &quot;UI Thread Starvation&quot; by <a href="/docs/next/checker-starvation">starvation</a>.</p><p>This error is reported in Java, and specifically on Android. These reports are
triggered when a method that runs on the UI thread may block, thus potentially
leading to an Application Not Responding error.</p><p>Infer considers a method as running on the UI thread whenever:</p><ul><li>The method, one of its overrides, its class, or an ancestral class, is
annotated with <code>@UiThread</code>.</li><li>The method, or one of its overrides is annotated with <code>@OnEvent</code>, <code>@OnClick</code>,
etc.</li><li>The method or its callees call a <code>Litho.ThreadUtils</code> method such as
<code>assertMainThread</code>.</li></ul><p>The issue is reported when a method deemed to run on the UI thread</p><ul><li>Makes a method call which may block.</li><li>Takes a lock, and another thread takes the same lock, and before releasing it,
makes a call that may block.</li></ul><p>Calls that may block are considered:</p><ul><li>Certain I/O calls.</li><li>Two way <code>Binder.transact</code> calls.</li><li>Certain OS calls.</li><li><code>Future</code> or <code>AsyncTask</code> calls to <code>get</code> without timeouts, or with too large
timeouts.</li></ul><p>To suppress starvation reports in a method <code>m()</code> use the
<code>@SuppressLint(&quot;STARVATION&quot;)</code> annotation, as follows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  import android.annotation.SuppressLint;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @SuppressLint(&quot;STARVATION&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void m() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To signal to Infer that a method does not perform any blocking calls, despite
appearences, you can use the <code>@NonBlocking</code> annotation:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  import com.facebook.infer.annotation.NonBlocking;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  @NonBlocking</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void m() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This instructs Infer to filter out any potentially blocking calls in <code>m()</code>
(also, transitively), and thus any other method can expect no starvation reports
due to a call to <code>m()</code>. You will need to set up your class path appropriately to
include the JAR files in <code>infer/annotations</code> for this annotation to work.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="static_initialization_order_fiasco"></a>STATIC_INITIALIZATION_ORDER_FIASCO<a class="hash-link" href="#static_initialization_order_fiasco" title="Direct link to heading">#</a></h2><p>Reported as &quot;Static Initialization Order Fiasco&quot; by <a href="/docs/next/checker-siof">siof</a>.</p><p>This error is reported in C++. It fires when the initialization of a static
variable <code>A</code>, accesses a static variable <code>B</code> from another translation unit
(usually another <code>.cpp</code> file). There are no guarantees whether <code>B</code> has been
already initialized or not at that point.</p><p>For more technical definition and techniques to avoid/remediate, see the
<a href="https://isocpp.org/wiki/faq/ctors#static-init-order" target="_blank" rel="noopener noreferrer">FAQ</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="strict_mode_violation"></a>STRICT_MODE_VIOLATION<a class="hash-link" href="#strict_mode_violation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Strict Mode Violation&quot; by <a href="/docs/next/checker-starvation">starvation</a>.</p><p>Android has a feature called
<a href="https://developer.android.com/reference/android/os/StrictMode" target="_blank" rel="noopener noreferrer">strict mode</a>,
which if enabled, will flag the occasions where the main thread makes a call
that results in disk I/O, waiting on a network socket, etc. The analysis
catching starvation errors and deadlocks (the <code>--starvation</code> analysis) has the
ability to statically detect such violations.</p><p>To suppress this warning, it&#x27;s enough to annotate the offending method with
<code>@SuppressLint(&quot;STRICT_MODE_VIOLATION&quot;)</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="strong_delegate_warning"></a>STRONG_DELEGATE_WARNING<a class="hash-link" href="#strong_delegate_warning" title="Direct link to heading">#</a></h2><p>Reported as &quot;Strong Delegate Warning&quot; by <a href="/docs/next/checker-linters">linters</a>.</p><p>This check warns you when you have a property called delegate or variations
thereof which is declared strong. The idea is that delegates should generally be
weak, otherwise this may cause retain cycles.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="strong_self_not_checked"></a>STRONG_SELF_NOT_CHECKED<a class="hash-link" href="#strong_self_not_checked" title="Direct link to heading">#</a></h2><p>Reported as &quot;StrongSelf Not Checked&quot; by <a href="/docs/next/checker-self-in-block">self-in-block</a>.</p><p>This checks reports a potential issue when a block captures <code>weakSelf</code> (a weak pointer to <code>self</code>),
then one assigns this pointer to a local variable <code>strongSelf</code> inside the block and uses this variable
without checking first whether it is <code>nil</code>. The problem here is that the weak pointer could be <code>nil</code> at
the time when the block is executed. So, the correct usage is to first check whether <code>strongSelf</code> is a valid
pointer, and then use it.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">__weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> strongSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action:</strong>
Add a check for <code>nil</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">__weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token plain">my_block</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    __strong </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> strongSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> weakSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">strongSelf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> strongSelf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><em>Limitations:</em> To keep this check simple and intra-procedural, we rely on names to find <code>weakSelf</code>:
we assume that any captured weak pointer whose name contains &quot;self&quot; is a weak reference to <code>self</code>.
In contrast, <code>strongSelf</code> is a local variable to the block, so the check supports any name given to
a local strong pointer that has been assigned <code>weakSelf</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="thread_safety_violation"></a>THREAD_SAFETY_VIOLATION<a class="hash-link" href="#thread_safety_violation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Thread Safety Violation&quot; by <a href="/docs/next/checker-racerd">racerd</a>.</p><p>This warning indicates a potential data race in Java. The analyser is called
RacerD and this section gives brief but a mostly complete description of its
features. See the <a href="/docs/next/checker-racerd">RacerD page</a> for more in-depth information and
examples.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="thread-safety-what-is-a-data-race"></a>Thread-safety: What is a data race<a class="hash-link" href="#thread-safety-what-is-a-data-race" title="Direct link to heading">#</a></h3><p>Here a data race is a pair of accesses to the same member field such that:</p><ul><li>at least one is a write, and,</li><li>at least one occurs without any lock synchronization, and,</li><li>the two accesses occur on threads (if known) which can run in parallel.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="thread-safety-potential-fixes"></a>Thread-safety: Potential fixes<a class="hash-link" href="#thread-safety-potential-fixes" title="Direct link to heading">#</a></h3><ul><li>Synchronizing the accesses (using the <code>synchronized</code> keyword, thread-exclusion
such as atomic objects, <code>volatile</code> etc).</li><li>Making an offending method private -- this will exclude it from being checked
at the top level, though it will be checked if called by a public method which
may itself, e.g., hold a lock when calling it.</li><li>Putting the two accesses on the same thread, e.g., by using <code>@MainThread</code> or
<code>@ThreadConfined</code>.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="thread-safety-conditions-checked-before-reporting"></a>Thread-safety: Conditions checked before reporting<a class="hash-link" href="#thread-safety-conditions-checked-before-reporting" title="Direct link to heading">#</a></h3><p>The class and method are not marked <code>@ThreadSafe(enableChecks = false)</code>, and,</p><ul><li>The method is declared <code>synchronized</code>, or employs (non-transitively) locking,
or,</li><li>The class is not marked <code>@NotThreadSafe</code>, and,<ul><li>The class/method is marked <code>@ThreadSafe,</code> or one of the configured synonyms
in <code>.inferconfig</code>, or,</li><li>A parent class, or an override method are marked with the above annotations.</li></ul></li></ul><p>NB currently RacerD <strong>does not take into account <code>@GuardedBy</code></strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="thread-safety-thread-annotations-recognized-by-racerd"></a>Thread-safety: Thread annotations recognized by RacerD<a class="hash-link" href="#thread-safety-thread-annotations-recognized-by-racerd" title="Direct link to heading">#</a></h3><p>These class and method annotations imply the method is on the main thread:
<code>@MainThread</code>, <code>@UiThread</code></p><p>These method annotations imply the method is on the main thread: <code>@OnBind</code>,
<code>@OnEvent</code>, <code>@OnMount</code>, <code>@OnUnbind</code>, <code>@OnUnmount</code></p><p>Both classes of annotations work through the inheritance tree (i.e. if a parent
class or method is marked with one of these annotations, so is the child class /
method override).</p><p>In addition to these, RacerD recognizes many lifecycle methods as necessarily
running on the main thread, eg <code>Fragment.onCreate</code> etc.</p><p>Finally, the thread status of being on the main thread propagates backwards
through the call graph (ie if <code>foo</code> calls <code>bar</code> and <code>bar</code> is marked <code>@UiThtread</code>
then <code>foo</code> is automatically considered on the main thread too). Calling
<code>assertMainThread</code>, <code>assertOnUiThread</code>, <code>checkOnMainThread</code> has the same effect.</p><p>NB RacerD currently <strong>does not recognize <code>@WorkerThread</code>, <code>@BinderThread</code> or
<code>@AnyThread</code></strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="thread-safety-other-annotations-and-what-they-do"></a>Thread-safety: Other annotations and what they do<a class="hash-link" href="#thread-safety-other-annotations-and-what-they-do" title="Direct link to heading">#</a></h3><p>These annotations can be found at <code>com.facebook.infer.annotation.*</code>.</p><ul><li><p><code>@Functional</code> This is a method annotation indicating the method always returns
the same value. When a method <code>foo</code> is annotated <code>@Functional</code>, RacerD will
ignore any writes of the return value of <code>foo</code>. For example, in
<code>this.x = foo()</code>, the write to <code>this.x</code> is ignored. The reasoning is that if
the method returns the same value whenever it&#x27;s called, any data race on
<code>this.x</code> is benign, if that is the only write.</p></li><li><p><code>@ThreadConfined</code> This is a class/method/field annotation which takes a single
parameter which can be <code>UI</code>, <code>ANY</code> or a user chosen string. It indicates to
RacerD a thread identifier for the class/method/field. Thus,
<code>@ThreadConfined(UI)</code> is equivalent to <code>@UiThread</code>, and <code>@ThreadConfined(ANY)</code>
is equivalent to not having the annotation at all, for classes and methods.
When this annotation is applied to a field it instructs Infer to assume
(without checking) that all accesses to that field are made on the same thread
(and can, therefore, not race by definition). The intention is that RacerD
uses that to detect exclusion between accesses occurring on the same thread.
However, only the UI thread is supported at this time, and any user provided
value is considered equal to <code>UI</code>.</p></li><li><p><code>@VisibleForTesting</code> A method annotation making Infer consider the method as
effectively <code>private</code>. This means it will not be checked for races against
other non-private methods of the class, but only if called by one.</p></li><li><p><code>@ReturnsOwnership</code> A method annotation indicating that the method returns a
freshly owned object. Accesses to the returned value will not be considered
for data races, as the object is in-effect unique and not accessible yet from
other threads. The main utility of this annotation is in interfaces, where
Infer cannot look up the implementation and decide for itself.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="topl_error"></a>TOPL_ERROR<a class="hash-link" href="#topl_error" title="Direct link to heading">#</a></h2><p>Reported as &quot;Topl Error&quot; by <a href="/docs/next/checker-topl">topl</a>.</p><p>A violation of a Topl property (user-specified).
There is an execution path in the code that drives a Topl property from a start state to an error state.</p><p>This indicates that the code has a user-defined undesired behavior.</p><p>See <a href="/docs/next/checker-topl##what-is-it">Topl</a> for an example</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="uninitialized_value"></a>UNINITIALIZED_VALUE<a class="hash-link" href="#uninitialized_value" title="Direct link to heading">#</a></h2><p>Reported as &quot;Uninitialized Value&quot; by <a href="/docs/next/checker-uninit">uninit</a>.</p><p>The code uses a variable that has not been initialized, leading to unpredictable or unintended results.</p><p>Using uninitialized values can lead to undefined behaviors possibly resulting in crashes, security failures and invalid results.</p><p>This can easily be fixed by assigning all variables to an initial value when declaring them.</p><p>This, for example, in C:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI c"><div tabindex="0" class="prism-code language-c codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">coordinates</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">coordinates</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// uninitialized value c.y!</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">z </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// uninitialized value z!</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// something</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_buffer_access"></a>UNTRUSTED_BUFFER_ACCESS<a class="hash-link" href="#untrusted_buffer_access" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Buffer Access&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted data of any kind flowing to buffer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_deserialization"></a>UNTRUSTED_DESERIALIZATION<a class="hash-link" href="#untrusted_deserialization" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Deserialization&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>User-controlled deserialization.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_deserialization_risk"></a>UNTRUSTED_DESERIALIZATION_RISK<a class="hash-link" href="#untrusted_deserialization_risk" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Deserialization Risk&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>User-controlled deserialization</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_environment_change_risk"></a>UNTRUSTED_ENVIRONMENT_CHANGE_RISK<a class="hash-link" href="#untrusted_environment_change_risk" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Environment Change Risk&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>User-controlled environment mutation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_file"></a>UNTRUSTED_FILE<a class="hash-link" href="#untrusted_file" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted File&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>User-controlled file creation; may be vulnerable to path traversal and more.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_file_risk"></a>UNTRUSTED_FILE_RISK<a class="hash-link" href="#untrusted_file_risk" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted File Risk&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>User-controlled file creation; may be vulnerable to path traversal and more.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_heap_allocation"></a>UNTRUSTED_HEAP_ALLOCATION<a class="hash-link" href="#untrusted_heap_allocation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Heap Allocation&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted data of any kind flowing to heap allocation. this can cause crashes or DOS.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_intent_creation"></a>UNTRUSTED_INTENT_CREATION<a class="hash-link" href="#untrusted_intent_creation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Intent Creation&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Creating an Intent from user-controlled data.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_url_risk"></a>UNTRUSTED_URL_RISK<a class="hash-link" href="#untrusted_url_risk" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Url Risk&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted flag, environment variable, or file data flowing to URL.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="untrusted_variable_length_array"></a>UNTRUSTED_VARIABLE_LENGTH_ARRAY<a class="hash-link" href="#untrusted_variable_length_array" title="Direct link to heading">#</a></h2><p>Reported as &quot;Untrusted Variable Length Array&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted data of any kind flowing to stack buffer allocation. Trying to allocate a stack buffer that&#x27;s too large will cause a stack overflow.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="user_controlled_sql_risk"></a>USER_CONTROLLED_SQL_RISK<a class="hash-link" href="#user_controlled_sql_risk" title="Direct link to heading">#</a></h2><p>Reported as &quot;User Controlled Sql Risk&quot; by <a href="/docs/next/checker-quandary">quandary</a>.</p><p>Untrusted data flows to SQL (no injection risk).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="use_after_delete"></a>USE_AFTER_DELETE<a class="hash-link" href="#use_after_delete" title="Direct link to heading">#</a></h2><p>Reported as &quot;Use After Delete&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>An address that was invalidated by a call to <code>delete</code> in C++ is dereferenced.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="use_after_delete_latent"></a>USE_AFTER_DELETE_LATENT<a class="hash-link" href="#use_after_delete_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Use After Delete Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#use_after_delete">USE_AFTER_DELETE</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="use_after_free"></a>USE_AFTER_FREE<a class="hash-link" href="#use_after_free" title="Direct link to heading">#</a></h2><p>Reported as &quot;Use After Free&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>An address that was invalidated by a call to <code>free</code> in C is dereferenced.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="use_after_free_latent"></a>USE_AFTER_FREE_LATENT<a class="hash-link" href="#use_after_free_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Use After Free Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#use_after_free">USE_AFTER_FREE</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="use_after_lifetime"></a>USE_AFTER_LIFETIME<a class="hash-link" href="#use_after_lifetime" title="Direct link to heading">#</a></h2><p>Reported as &quot;Use After Lifetime&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>The lifetime of an object has ended but that object is being
accessed. For example, the address of a variable holding a C++ object
is accessed after the variable has gone out of scope:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     X</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// new scope</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       X x </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">X</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       p </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// x has gone out of scope</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     p</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">method</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ERROR: you should not access *p after x has gone out of scope</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="use_after_lifetime_latent"></a>USE_AFTER_LIFETIME_LATENT<a class="hash-link" href="#use_after_lifetime_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Use After Lifetime Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#use_after_lifetime">USE_AFTER_LIFETIME</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="vector_invalidation"></a>VECTOR_INVALIDATION<a class="hash-link" href="#vector_invalidation" title="Direct link to heading">#</a></h2><p>Reported as &quot;Vector Invalidation&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>An address pointing into a C++ <code>std::vector</code> might have become
invalid. This can happen when an address is taken into a vector, then
the vector is mutated in a way that might invalidate the address, for
example by adding elements to the vector, which might trigger a
re-allocation of the entire vector contents (thereby invalidating the
pointers into the previous location of the contents).</p><p>For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">deref_vector_element_after_push_back_bad</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">vector</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> vec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> elt </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">vec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  vec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">push_back</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// if the array backing the vector was full already, this</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// will re-allocate it and copy the previous contents</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// into the new array, then delete the previous array</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">cout </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">y </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// bad: elt might be invalid</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="vector_invalidation_latent"></a>VECTOR_INVALIDATION_LATENT<a class="hash-link" href="#vector_invalidation_latent" title="Direct link to heading">#</a></h2><p>Reported as &quot;Vector Invalidation Latent&quot; by <a href="/docs/next/checker-pulse">pulse</a>.</p><p>A latent <a href="#vector_invalidation">VECTOR_INVALIDATION</a>. See the <a href="/docs/next/checker-pulse#latent-issues">documentation on Pulse latent issues</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="weak_self_in_no_escape_block"></a>WEAK_SELF_IN_NO_ESCAPE_BLOCK<a class="hash-link" href="#weak_self_in_no_escape_block" title="Direct link to heading">#</a></h2><p>Reported as &quot;Weak Self In No Escape Block&quot; by <a href="/docs/next/checker-self-in-block">self-in-block</a>.</p><p>This check reports when <code>weakSelf</code> (a weak pointer to <code>self</code>) is used in
a block, and this block is passed to a &quot;no escaping&quot; method. This means that
the block passed to that method won&#x27;t be leaving the current scope, this is
marked with the annotation <code>NS_NOESCAPE</code>.</p><p>The issue here is that, because the block is &quot;no escaping&quot;, there is no need to use
<code>weakSelf</code> and <code>strongSelf</code> but we can just use <code>self</code>. This has the advantage of
not needing to deal with the added complexity of weak pointers, and it simplifies the
code.</p><p>Example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak </span><span class="token function" style="color:rgb(130, 170, 255)">__typeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> weakSelf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">self</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//foo&#x27;s first parameter is annotates with `NS_NOESCAPE`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">weakSelf bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Action</strong>:</p><p>Replace <code>weakSelf</code> with <code>self</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI objectivec"><div tabindex="0" class="prism-code language-objectivec codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">self</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">self</span><span class="token plain"> bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><em>Limitations:</em> To keep this check simple and intra-procedural, we rely on names to find <code>weakSelf</code>:
we assume that any captured weak pointer whose name contains &quot;self&quot; is a weak reference to <code>self</code>.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/man-infer-run"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« infer run</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/checker-annotation-reachability"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Annotation Reachability Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#arbitrary_code_execution_under_lock" class="table-of-contents__link">ARBITRARY_CODE_EXECUTION_UNDER_LOCK</a></li><li><a href="#assign_pointer_warning" class="table-of-contents__link">ASSIGN_POINTER_WARNING</a></li><li><a href="#autoreleasepool_size_complexity_increase" class="table-of-contents__link">AUTORELEASEPOOL_SIZE_COMPLEXITY_INCREASE</a></li><li><a href="#autoreleasepool_size_complexity_increase_ui_thread" class="table-of-contents__link">AUTORELEASEPOOL_SIZE_COMPLEXITY_INCREASE_UI_THREAD</a></li><li><a href="#autoreleasepool_size_unreachable_at_exit" class="table-of-contents__link">AUTORELEASEPOOL_SIZE_UNREACHABLE_AT_EXIT</a></li><li><a href="#bad_key" class="table-of-contents__link">BAD_KEY</a></li><li><a href="#bad_key_latent" class="table-of-contents__link">BAD_KEY_LATENT</a></li><li><a href="#bad_map" class="table-of-contents__link">BAD_MAP</a></li><li><a href="#bad_map_latent" class="table-of-contents__link">BAD_MAP_LATENT</a></li><li><a href="#bad_pointer_comparison" class="table-of-contents__link">BAD_POINTER_COMPARISON</a></li><li><a href="#bad_record" class="table-of-contents__link">BAD_RECORD</a></li><li><a href="#bad_record_latent" class="table-of-contents__link">BAD_RECORD_LATENT</a></li><li><a href="#biabduction_memory_leak" class="table-of-contents__link">BIABDUCTION_MEMORY_LEAK</a></li><li><a href="#block_parameter_not_null_checked" class="table-of-contents__link">BLOCK_PARAMETER_NOT_NULL_CHECKED</a></li><li><a href="#buffer_overrun_l1" class="table-of-contents__link">BUFFER_OVERRUN_L1</a></li><li><a href="#buffer_overrun_l2" class="table-of-contents__link">BUFFER_OVERRUN_L2</a></li><li><a href="#buffer_overrun_l3" class="table-of-contents__link">BUFFER_OVERRUN_L3</a></li><li><a href="#buffer_overrun_l4" class="table-of-contents__link">BUFFER_OVERRUN_L4</a></li><li><a href="#buffer_overrun_l5" class="table-of-contents__link">BUFFER_OVERRUN_L5</a></li><li><a href="#buffer_overrun_s2" class="table-of-contents__link">BUFFER_OVERRUN_S2</a></li><li><a href="#buffer_overrun_u5" class="table-of-contents__link">BUFFER_OVERRUN_U5</a></li><li><a href="#captured_strong_self" class="table-of-contents__link">CAPTURED_STRONG_SELF</a></li><li><a href="#checkers_allocates_memory" class="table-of-contents__link">CHECKERS_ALLOCATES_MEMORY</a></li><li><a href="#checkers_annotation_reachability_error" class="table-of-contents__link">CHECKERS_ANNOTATION_REACHABILITY_ERROR</a></li><li><a href="#checkers_calls_expensive_method" class="table-of-contents__link">CHECKERS_CALLS_EXPENSIVE_METHOD</a></li><li><a href="#checkers_expensive_overrides_unannotated" class="table-of-contents__link">CHECKERS_EXPENSIVE_OVERRIDES_UNANNOTATED</a></li><li><a href="#checkers_fragment_retains_view" class="table-of-contents__link">CHECKERS_FRAGMENT_RETAINS_VIEW</a></li><li><a href="#checkers_immutable_cast" class="table-of-contents__link">CHECKERS_IMMUTABLE_CAST</a></li><li><a href="#checkers_printf_args" class="table-of-contents__link">CHECKERS_PRINTF_ARGS</a></li><li><a href="#component_with_multiple_factory_methods" class="table-of-contents__link">COMPONENT_WITH_MULTIPLE_FACTORY_METHODS</a></li><li><a href="#config_impact" class="table-of-contents__link">CONFIG_IMPACT</a></li><li><a href="#config_impact_strict" class="table-of-contents__link">CONFIG_IMPACT_STRICT</a></li><li><a href="#constant_address_dereference" class="table-of-contents__link">CONSTANT_ADDRESS_DEREFERENCE</a></li><li><a href="#constant_address_dereference_latent" class="table-of-contents__link">CONSTANT_ADDRESS_DEREFERENCE_LATENT</a></li><li><a href="#create_intent_from_uri" class="table-of-contents__link">CREATE_INTENT_FROM_URI</a></li><li><a href="#cross_site_scripting" class="table-of-contents__link">CROSS_SITE_SCRIPTING</a></li><li><a href="#cxx_reference_captured_in_objc_block" class="table-of-contents__link">CXX_REFERENCE_CAPTURED_IN_OBJC_BLOCK</a></li><li><a href="#dangling_pointer_dereference" class="table-of-contents__link">DANGLING_POINTER_DEREFERENCE</a></li><li><a href="#deadlock" class="table-of-contents__link">DEADLOCK</a></li><li><a href="#dead_store" class="table-of-contents__link">DEAD_STORE</a></li><li><a href="#direct_atomic_property_access" class="table-of-contents__link">DIRECT_ATOMIC_PROPERTY_ACCESS</a></li><li><a href="#discouraged_weak_property_custom_setter" class="table-of-contents__link">DISCOURAGED_WEAK_PROPERTY_CUSTOM_SETTER</a></li><li><a href="#divide_by_zero" class="table-of-contents__link">DIVIDE_BY_ZERO</a></li><li><a href="#dotnet_resource_leak" class="table-of-contents__link">DOTNET_RESOURCE_LEAK</a></li><li><a href="#empty_vector_access" class="table-of-contents__link">EMPTY_VECTOR_ACCESS</a></li><li><a href="#eradicate_annotation_graph" class="table-of-contents__link">ERADICATE_ANNOTATION_GRAPH</a></li><li><a href="#eradicate_bad_nested_class_annotation" class="table-of-contents__link">ERADICATE_BAD_NESTED_CLASS_ANNOTATION</a></li><li><a href="#eradicate_condition_redundant" class="table-of-contents__link">ERADICATE_CONDITION_REDUNDANT</a></li><li><a href="#eradicate_field_not_initialized" class="table-of-contents__link">ERADICATE_FIELD_NOT_INITIALIZED</a></li><li><a href="#eradicate_field_not_nullable" class="table-of-contents__link">ERADICATE_FIELD_NOT_NULLABLE</a></li><li><a href="#eradicate_field_over_annotated" class="table-of-contents__link">ERADICATE_FIELD_OVER_ANNOTATED</a></li><li><a href="#eradicate_inconsistent_subclass_parameter_annotation" class="table-of-contents__link">ERADICATE_INCONSISTENT_SUBCLASS_PARAMETER_ANNOTATION</a></li><li><a href="#eradicate_inconsistent_subclass_return_annotation" class="table-of-contents__link">ERADICATE_INCONSISTENT_SUBCLASS_RETURN_ANNOTATION</a></li><li><a href="#eradicate_meta_class_can_be_nullsafe" class="table-of-contents__link">ERADICATE_META_CLASS_CAN_BE_NULLSAFE</a></li><li><a href="#eradicate_meta_class_is_nullsafe" class="table-of-contents__link">ERADICATE_META_CLASS_IS_NULLSAFE</a></li><li><a href="#eradicate_meta_class_needs_improvement" class="table-of-contents__link">ERADICATE_META_CLASS_NEEDS_IMPROVEMENT</a></li><li><a href="#eradicate_nullable_dereference" class="table-of-contents__link">ERADICATE_NULLABLE_DEREFERENCE</a></li><li><a href="#eradicate_parameter_not_nullable" class="table-of-contents__link">ERADICATE_PARAMETER_NOT_NULLABLE</a></li><li><a href="#eradicate_redundant_nested_class_annotation" class="table-of-contents__link">ERADICATE_REDUNDANT_NESTED_CLASS_ANNOTATION</a></li><li><a href="#eradicate_return_not_nullable" class="table-of-contents__link">ERADICATE_RETURN_NOT_NULLABLE</a></li><li><a href="#eradicate_return_over_annotated" class="table-of-contents__link">ERADICATE_RETURN_OVER_ANNOTATED</a></li><li><a href="#eradicate_unchecked_usage_in_nullsafe" class="table-of-contents__link">ERADICATE_UNCHECKED_USAGE_IN_NULLSAFE</a></li><li><a href="#eradicate_unvetted_third_party_in_nullsafe" class="table-of-contents__link">ERADICATE_UNVETTED_THIRD_PARTY_IN_NULLSAFE</a></li><li><a href="#execution_time_complexity_increase" class="table-of-contents__link">EXECUTION_TIME_COMPLEXITY_INCREASE</a></li><li><a href="#execution_time_complexity_increase_ui_thread" class="table-of-contents__link">EXECUTION_TIME_COMPLEXITY_INCREASE_UI_THREAD</a></li><li><a href="#execution_time_unreachable_at_exit" class="table-of-contents__link">EXECUTION_TIME_UNREACHABLE_AT_EXIT</a></li><li><a href="#expensive_autoreleasepool_size" class="table-of-contents__link">EXPENSIVE_AUTORELEASEPOOL_SIZE</a></li><li><a href="#expensive_execution_time" class="table-of-contents__link">EXPENSIVE_EXECUTION_TIME</a></li><li><a href="#expensive_loop_invariant_call" class="table-of-contents__link">EXPENSIVE_LOOP_INVARIANT_CALL</a></li><li><a href="#exposed_insecure_intent_handling" class="table-of-contents__link">EXPOSED_INSECURE_INTENT_HANDLING</a></li><li><a href="#global_variable_initialized_with_function_or_method_call" class="table-of-contents__link">GLOBAL_VARIABLE_INITIALIZED_WITH_FUNCTION_OR_METHOD_CALL</a></li><li><a href="#guardedby_violation" class="table-of-contents__link">GUARDEDBY_VIOLATION</a></li><li><a href="#impure_function" class="table-of-contents__link">IMPURE_FUNCTION</a></li><li><a href="#inefficient_keyset_iterator" class="table-of-contents__link">INEFFICIENT_KEYSET_ITERATOR</a></li><li><a href="#inferbo_alloc_is_big" class="table-of-contents__link">INFERBO_ALLOC_IS_BIG</a></li><li><a href="#inferbo_alloc_is_negative" class="table-of-contents__link">INFERBO_ALLOC_IS_NEGATIVE</a></li><li><a href="#inferbo_alloc_is_zero" class="table-of-contents__link">INFERBO_ALLOC_IS_ZERO</a></li><li><a href="#inferbo_alloc_may_be_big" class="table-of-contents__link">INFERBO_ALLOC_MAY_BE_BIG</a></li><li><a href="#inferbo_alloc_may_be_negative" class="table-of-contents__link">INFERBO_ALLOC_MAY_BE_NEGATIVE</a></li><li><a href="#infinite_autoreleasepool_size" class="table-of-contents__link">INFINITE_AUTORELEASEPOOL_SIZE</a></li><li><a href="#infinite_execution_time" class="table-of-contents__link">INFINITE_EXECUTION_TIME</a><ul><li><a href="#example-1-t-due-to-expressivity" class="table-of-contents__link">Example 1: T due to expressivity</a></li><li><a href="#example-2-t-due-to-unmodeled-calls" class="table-of-contents__link">Example 2: T due to unmodeled calls</a></li><li><a href="#example-3-t-due-to-calling-another-t-costed-function" class="table-of-contents__link">Example 3: T due to calling another T-costed function</a></li></ul></li><li><a href="#insecure_intent_handling" class="table-of-contents__link">INSECURE_INTENT_HANDLING</a></li><li><a href="#integer_overflow_l1" class="table-of-contents__link">INTEGER_OVERFLOW_L1</a></li><li><a href="#integer_overflow_l2" class="table-of-contents__link">INTEGER_OVERFLOW_L2</a></li><li><a href="#integer_overflow_l5" class="table-of-contents__link">INTEGER_OVERFLOW_L5</a></li><li><a href="#integer_overflow_u5" class="table-of-contents__link">INTEGER_OVERFLOW_U5</a></li><li><a href="#interface_not_thread_safe" class="table-of-contents__link">INTERFACE_NOT_THREAD_SAFE</a></li><li><a href="#invariant_call" class="table-of-contents__link">INVARIANT_CALL</a></li><li><a href="#ipc_on_ui_thread" class="table-of-contents__link">IPC_ON_UI_THREAD</a></li><li><a href="#ivar_not_null_checked" class="table-of-contents__link">IVAR_NOT_NULL_CHECKED</a></li><li><a href="#javascript_injection" class="table-of-contents__link">JAVASCRIPT_INJECTION</a></li><li><a href="#lab_resource_leak" class="table-of-contents__link">LAB_RESOURCE_LEAK</a></li><li><a href="#lockless_violation" class="table-of-contents__link">LOCKLESS_VIOLATION</a></li><li><a href="#lock_consistency_violation" class="table-of-contents__link">LOCK_CONSISTENCY_VIOLATION</a><ul><li><a href="#fixing-lock-consistency-violation-reports" class="table-of-contents__link">Fixing Lock Consistency Violation reports</a></li></ul></li><li><a href="#logging_private_data" class="table-of-contents__link">LOGGING_PRIVATE_DATA</a></li><li><a href="#memory_leak" class="table-of-contents__link">MEMORY_LEAK</a><ul><li><a href="#memory-leak-in-c" class="table-of-contents__link">Memory leak in C</a></li><li><a href="#memory-leak-in-objective-c" class="table-of-contents__link">Memory leak in Objective-C</a></li></ul></li><li><a href="#missing_required_prop" class="table-of-contents__link">MISSING_REQUIRED_PROP</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#mixed_self_weakself" class="table-of-contents__link">MIXED_SELF_WEAKSELF</a></li><li><a href="#modifies_immutable" class="table-of-contents__link">MODIFIES_IMMUTABLE</a></li><li><a href="#multiple_weakself" class="table-of-contents__link">MULTIPLE_WEAKSELF</a></li><li><a href="#mutable_local_variable_in_component_file" class="table-of-contents__link">MUTABLE_LOCAL_VARIABLE_IN_COMPONENT_FILE</a></li><li><a href="#nil_block_call" class="table-of-contents__link">NIL_BLOCK_CALL</a></li><li><a href="#nil_block_call_latent" class="table-of-contents__link">NIL_BLOCK_CALL_LATENT</a></li><li><a href="#nil_insertion_into_collection" class="table-of-contents__link">NIL_INSERTION_INTO_COLLECTION</a><ul><li><a href="#arrays" class="table-of-contents__link">Arrays</a></li><li><a href="#dictionaries" class="table-of-contents__link">Dictionaries</a></li></ul></li><li><a href="#nil_insertion_into_collection_latent" class="table-of-contents__link">NIL_INSERTION_INTO_COLLECTION_LATENT</a></li><li><a href="#nil_messaging_to_non_pod" class="table-of-contents__link">NIL_MESSAGING_TO_NON_POD</a></li><li><a href="#nil_messaging_to_non_pod_latent" class="table-of-contents__link">NIL_MESSAGING_TO_NON_POD_LATENT</a></li><li><a href="#no_matching_branch_in_try" class="table-of-contents__link">NO_MATCHING_BRANCH_IN_TRY</a></li><li><a href="#no_matching_branch_in_try_latent" class="table-of-contents__link">NO_MATCHING_BRANCH_IN_TRY_LATENT</a></li><li><a href="#no_matching_case_clause" class="table-of-contents__link">NO_MATCHING_CASE_CLAUSE</a></li><li><a href="#no_matching_case_clause_latent" class="table-of-contents__link">NO_MATCHING_CASE_CLAUSE_LATENT</a></li><li><a href="#no_matching_function_clause" class="table-of-contents__link">NO_MATCHING_FUNCTION_CLAUSE</a></li><li><a href="#no_matching_function_clause_latent" class="table-of-contents__link">NO_MATCHING_FUNCTION_CLAUSE_LATENT</a></li><li><a href="#no_match_of_rhs" class="table-of-contents__link">NO_MATCH_OF_RHS</a></li><li><a href="#no_match_of_rhs_latent" class="table-of-contents__link">NO_MATCH_OF_RHS_LATENT</a></li><li><a href="#no_true_branch_in_if" class="table-of-contents__link">NO_TRUE_BRANCH_IN_IF</a></li><li><a href="#no_true_branch_in_if_latent" class="table-of-contents__link">NO_TRUE_BRANCH_IN_IF_LATENT</a></li><li><a href="#nullptr_dereference" class="table-of-contents__link">NULLPTR_DEREFERENCE</a><ul><li><a href="#null-dereference-in-java" class="table-of-contents__link">Null dereference in Java</a></li><li><a href="#null-dereference-in-c" class="table-of-contents__link">Null dereference in C</a></li><li><a href="#null-dereference-in-objective-c" class="table-of-contents__link">Null dereference in Objective-C</a></li></ul></li><li><a href="#nullptr_dereference_latent" class="table-of-contents__link">NULLPTR_DEREFERENCE_LATENT</a></li><li><a href="#null_dereference" class="table-of-contents__link">NULL_DEREFERENCE</a></li><li><a href="#optional_empty_access" class="table-of-contents__link">OPTIONAL_EMPTY_ACCESS</a></li><li><a href="#optional_empty_access_latent" class="table-of-contents__link">OPTIONAL_EMPTY_ACCESS_LATENT</a></li><li><a href="#parameter_not_null_checked" class="table-of-contents__link">PARAMETER_NOT_NULL_CHECKED</a></li><li><a href="#pointer_to_const_objc_class" class="table-of-contents__link">POINTER_TO_CONST_OBJC_CLASS</a></li><li><a href="#premature_nil_termination_argument" class="table-of-contents__link">PREMATURE_NIL_TERMINATION_ARGUMENT</a></li><li><a href="#pulse_resource_leak" class="table-of-contents__link">PULSE_RESOURCE_LEAK</a></li><li><a href="#pulse_uninitialized_value" class="table-of-contents__link">PULSE_UNINITIALIZED_VALUE</a></li><li><a href="#pulse_uninitialized_value_latent" class="table-of-contents__link">PULSE_UNINITIALIZED_VALUE_LATENT</a></li><li><a href="#pulse_unnecessary_copy" class="table-of-contents__link">PULSE_UNNECESSARY_COPY</a></li><li><a href="#pure_function" class="table-of-contents__link">PURE_FUNCTION</a></li><li><a href="#quandary_taint_error" class="table-of-contents__link">QUANDARY_TAINT_ERROR</a></li><li><a href="#regex_op_on_ui_thread" class="table-of-contents__link">REGEX_OP_ON_UI_THREAD</a></li><li><a href="#resource_leak" class="table-of-contents__link">RESOURCE_LEAK</a><ul><li><a href="#resource-leak-in-c" class="table-of-contents__link">Resource leak in C</a></li><li><a href="#resource-leak-in-java" class="table-of-contents__link">Resource leak in Java</a></li><li><a href="#basics-and-standard-idiom" class="table-of-contents__link">Basics and Standard Idiom</a></li><li><a href="#nested_allocations" class="table-of-contents__link">Nested_Allocations</a></li><li><a href="#allocation-of-jsonparser-and-cursor-resources" class="table-of-contents__link">Allocation of JSonParser and Cursor resources</a></li><li><a href="#escaping-resources-and-exceptions" class="table-of-contents__link">Escaping resources and exceptions</a></li><li><a href="#java-7s-try-with-resources" class="table-of-contents__link">Java 7&#39;s try-with-resources</a></li></ul></li><li><a href="#retain_cycle" class="table-of-contents__link">RETAIN_CYCLE</a></li><li><a href="#shell_injection" class="table-of-contents__link">SHELL_INJECTION</a></li><li><a href="#shell_injection_risk" class="table-of-contents__link">SHELL_INJECTION_RISK</a></li><li><a href="#sql_injection" class="table-of-contents__link">SQL_INJECTION</a></li><li><a href="#sql_injection_risk" class="table-of-contents__link">SQL_INJECTION_RISK</a></li><li><a href="#stack_variable_address_escape" class="table-of-contents__link">STACK_VARIABLE_ADDRESS_ESCAPE</a></li><li><a href="#starvation" class="table-of-contents__link">STARVATION</a></li><li><a href="#static_initialization_order_fiasco" class="table-of-contents__link">STATIC_INITIALIZATION_ORDER_FIASCO</a></li><li><a href="#strict_mode_violation" class="table-of-contents__link">STRICT_MODE_VIOLATION</a></li><li><a href="#strong_delegate_warning" class="table-of-contents__link">STRONG_DELEGATE_WARNING</a></li><li><a href="#strong_self_not_checked" class="table-of-contents__link">STRONG_SELF_NOT_CHECKED</a></li><li><a href="#thread_safety_violation" class="table-of-contents__link">THREAD_SAFETY_VIOLATION</a><ul><li><a href="#thread-safety-what-is-a-data-race" class="table-of-contents__link">Thread-safety: What is a data race</a></li><li><a href="#thread-safety-potential-fixes" class="table-of-contents__link">Thread-safety: Potential fixes</a></li><li><a href="#thread-safety-conditions-checked-before-reporting" class="table-of-contents__link">Thread-safety: Conditions checked before reporting</a></li><li><a href="#thread-safety-thread-annotations-recognized-by-racerd" class="table-of-contents__link">Thread-safety: Thread annotations recognized by RacerD</a></li><li><a href="#thread-safety-other-annotations-and-what-they-do" class="table-of-contents__link">Thread-safety: Other annotations and what they do</a></li></ul></li><li><a href="#topl_error" class="table-of-contents__link">TOPL_ERROR</a></li><li><a href="#uninitialized_value" class="table-of-contents__link">UNINITIALIZED_VALUE</a></li><li><a href="#untrusted_buffer_access" class="table-of-contents__link">UNTRUSTED_BUFFER_ACCESS</a></li><li><a href="#untrusted_deserialization" class="table-of-contents__link">UNTRUSTED_DESERIALIZATION</a></li><li><a href="#untrusted_deserialization_risk" class="table-of-contents__link">UNTRUSTED_DESERIALIZATION_RISK</a></li><li><a href="#untrusted_environment_change_risk" class="table-of-contents__link">UNTRUSTED_ENVIRONMENT_CHANGE_RISK</a></li><li><a href="#untrusted_file" class="table-of-contents__link">UNTRUSTED_FILE</a></li><li><a href="#untrusted_file_risk" class="table-of-contents__link">UNTRUSTED_FILE_RISK</a></li><li><a href="#untrusted_heap_allocation" class="table-of-contents__link">UNTRUSTED_HEAP_ALLOCATION</a></li><li><a href="#untrusted_intent_creation" class="table-of-contents__link">UNTRUSTED_INTENT_CREATION</a></li><li><a href="#untrusted_url_risk" class="table-of-contents__link">UNTRUSTED_URL_RISK</a></li><li><a href="#untrusted_variable_length_array" class="table-of-contents__link">UNTRUSTED_VARIABLE_LENGTH_ARRAY</a></li><li><a href="#user_controlled_sql_risk" class="table-of-contents__link">USER_CONTROLLED_SQL_RISK</a></li><li><a href="#use_after_delete" class="table-of-contents__link">USE_AFTER_DELETE</a></li><li><a href="#use_after_delete_latent" class="table-of-contents__link">USE_AFTER_DELETE_LATENT</a></li><li><a href="#use_after_free" class="table-of-contents__link">USE_AFTER_FREE</a></li><li><a href="#use_after_free_latent" class="table-of-contents__link">USE_AFTER_FREE_LATENT</a></li><li><a href="#use_after_lifetime" class="table-of-contents__link">USE_AFTER_LIFETIME</a></li><li><a href="#use_after_lifetime_latent" class="table-of-contents__link">USE_AFTER_LIFETIME_LATENT</a></li><li><a href="#vector_invalidation" class="table-of-contents__link">VECTOR_INVALIDATION</a></li><li><a href="#vector_invalidation_latent" class="table-of-contents__link">VECTOR_INVALIDATION_LATENT</a></li><li><a href="#weak_self_in_no_escape_block" class="table-of-contents__link">WEAK_SELF_IN_NO_ESCAPE_BLOCK</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/infer-workflow">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about-Infer">Foundations</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/all-issue-types">Bug Types Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/absint-framework">Contribute</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/support">Support</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/infer" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/fbinfer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.facebook.com/inferstaticanalyzer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Terms</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/styles.3db6cd2a.js"></script>
<script src="/assets/js/runtime~main.bb91a5c8.js"></script>
<script src="/assets/js/main.257c0503.js"></script>
<script src="/assets/js/1.be64a6fd.js"></script>
<script src="/assets/js/2.24584f07.js"></script>
<script src="/assets/js/3.0b9adf9a.js"></script>
<script src="/assets/js/1be78505.923a2ecb.js"></script>
<script src="/assets/js/184.881214a8.js"></script>
<script src="/assets/js/935f2afb.4601d483.js"></script>
<script src="/assets/js/17896441.c51ac4ee.js"></script>
<script src="/assets/js/c359af60.cbf77ade.js"></script>
</body>
</html>